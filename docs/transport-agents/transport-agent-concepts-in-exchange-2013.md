---
title: Conceptos de agente en Exchange 2013 de transporte
manager: sethgros
ms.date: 09/17/2015
ms.audience: Developer
ms.topic: overview
ms.prod: office-online-server
localization_priority: Normal
ms.assetid: 0c700af8-2792-4d3f-8571-8860e0550d8e
description: Obtenga información acerca de cómo la arquitectura de rol de canalización y servidor de agente de transporte en Exchange 2013 afectan al desarrollo de agentes de transporte y las clases que puede usar para desarrollar a los agentes de transporte.
ms.openlocfilehash: 9ddee0d68c9104357f84322b2cce7c5f2576d871
ms.sourcegitcommit: 34041125dc8c5f993b21cebfc4f8b72f0fd2cb6f
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/11/2018
ms.locfileid: "19763379"
---
# <a name="transport-agent-concepts-in-exchange-2013"></a><span data-ttu-id="5f784-103">Conceptos de agente en Exchange 2013 de transporte</span><span class="sxs-lookup"><span data-stu-id="5f784-103">Transport agent concepts in Exchange 2013</span></span>

<span data-ttu-id="5f784-104">Obtenga información acerca de cómo la arquitectura de rol de canalización y servidor de agente de transporte en Exchange 2013 afectan al desarrollo de agentes de transporte y las clases que puede usar para desarrollar a los agentes de transporte.</span><span class="sxs-lookup"><span data-stu-id="5f784-104">Find information about how the transport agent pipeline and server role architecture in Exchange 2013 affect transport agent development, and the classes that you can use to develop transport agents.</span></span> 
  
<span data-ttu-id="5f784-105">**Se aplica a:** Exchange Server 2013</span><span class="sxs-lookup"><span data-stu-id="5f784-105">**Applies to:** Exchange Server 2013</span></span> 
  
<span data-ttu-id="5f784-106">Puede usar la biblioteca de clases proporcionada en Exchange Server 2013 para implementar a los agentes de transporte que registrar los eventos y realizar acciones en los mensajes que pasan por la canalización de transporte.</span><span class="sxs-lookup"><span data-stu-id="5f784-106">You can use the class library provided in Exchange Server 2013 to implement transport agents that register for events and take actions on messages as they pass through the transport pipeline.</span></span> <span data-ttu-id="5f784-107">También puede utilizar a los agentes de transporte para modificar los mensajes y convertir el contenido.</span><span class="sxs-lookup"><span data-stu-id="5f784-107">You can also use transport agents to modify messages and convert content.</span></span> 
  
<span data-ttu-id="5f784-108">En este artículo se proporcionan información acerca de los agentes de transporte y la arquitectura de canalización de transporte.</span><span class="sxs-lookup"><span data-stu-id="5f784-108">This article provides information about transport agents and the transport pipeline architecture.</span></span> <span data-ttu-id="5f784-109">Es importante comprender la arquitectura de la canalización de transporte para que se puede modificar el comportamiento de transporte para satisfacer las necesidades de su organización.</span><span class="sxs-lookup"><span data-stu-id="5f784-109">It is important to understand the architecture of the transport pipeline so that you can modify transport behavior to meet your organization's needs.</span></span> <span data-ttu-id="5f784-110">En este artículo también proporciona información acerca de los cambios en la arquitectura de Exchange 2013 que afectan a los agentes de transporte y las clases que puede usar para desarrollar a los agentes de transporte.</span><span class="sxs-lookup"><span data-stu-id="5f784-110">This article also provides information about changes in the Exchange 2013 architecture that affect transport agents and the classes that you can use to develop transport agents.</span></span> 
  
## <a name="transport-agents-in-the-transport-pipeline"></a><span data-ttu-id="5f784-111">Agentes de transporte en la canalización de transporte</span><span class="sxs-lookup"><span data-stu-id="5f784-111">Transport agents in the transport pipeline</span></span>
<span data-ttu-id="5f784-112"><a name="Pipeline"> </a></span><span class="sxs-lookup"><span data-stu-id="5f784-112"></span></span>

<span data-ttu-id="5f784-113">Los agentes de transporte se derivan de una de las tres clases siguientes:</span><span class="sxs-lookup"><span data-stu-id="5f784-113">Transport agents are derived from one of the following three classes:</span></span>
  
- [<span data-ttu-id="5f784-114">SmtpReceiveAgent</span><span class="sxs-lookup"><span data-stu-id="5f784-114">SmtpReceiveAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx)
- [<span data-ttu-id="5f784-115">RoutingAgent</span><span class="sxs-lookup"><span data-stu-id="5f784-115">RoutingAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgent.aspx)
- [<span data-ttu-id="5f784-116">DeliveryAgent</span><span class="sxs-lookup"><span data-stu-id="5f784-116">DeliveryAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Delivery.DeliveryAgent.aspx)
    
<span data-ttu-id="5f784-117">La canalización de transporte hace referencia para el flujo de datos de mensaje dentro de los límites de una organización de Exchange 2013.</span><span class="sxs-lookup"><span data-stu-id="5f784-117">The transport pipeline refers to the flow of message data within the boundaries of an Exchange 2013 organization.</span></span> <span data-ttu-id="5f784-118">La canalización consta de los servicios enumerados en la siguiente tabla.</span><span class="sxs-lookup"><span data-stu-id="5f784-118">The pipeline consists of the services listed in the following table.</span></span>
  
<span data-ttu-id="5f784-119">**La tabla 1. Servicios de la canalización de transporte**</span><span class="sxs-lookup"><span data-stu-id="5f784-119">**Table 1. Transport pipeline services**</span></span>

|<span data-ttu-id="5f784-120">**Servicio**</span><span class="sxs-lookup"><span data-stu-id="5f784-120">**Service**</span></span>|<span data-ttu-id="5f784-121">**Descripción**</span><span class="sxs-lookup"><span data-stu-id="5f784-121">**Description**</span></span>|<span data-ttu-id="5f784-122">**Clases admitidas**</span><span class="sxs-lookup"><span data-stu-id="5f784-122">**Classes supported**</span></span>|
|:-----|:-----|:-----|
|<span data-ttu-id="5f784-123">Transporte de Front-End</span><span class="sxs-lookup"><span data-stu-id="5f784-123">Front End Transport</span></span>  <br/> |<span data-ttu-id="5f784-124">Se ejecuta en todos los [servidores acceso de cliente](http://technet.microsoft.com/en-us/library/dd298114%28v=exchg.150%29.aspx) y actúa como un proxy para todos los entrante y saliente SMTP el tráfico externo para la organización de Exchange 2013 sin estado.</span><span class="sxs-lookup"><span data-stu-id="5f784-124">Runs on all [Client Access servers](http://technet.microsoft.com/en-us/library/dd298114%28v=exchg.150%29.aspx) and acts as a stateless proxy for all inbound and outbound external SMTP traffic for the Exchange 2013 organization.</span></span> <span data-ttu-id="5f784-125">El servicio de transporte Front-End no inspeccionar el contenido del mensaje o cola todos los mensajes de forma local.</span><span class="sxs-lookup"><span data-stu-id="5f784-125">The Front End Transport service doesn't inspect message content or queue any messages locally.</span></span> <span data-ttu-id="5f784-126">Se comunica con el servicio de transporte en un [servidor de buzones](http://technet.microsoft.com/en-us/library/jj150491%28v=exchg.150%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="5f784-126">It communicates with the Transport service on a [Mailbox server](http://technet.microsoft.com/en-us/library/jj150491%28v=exchg.150%29.aspx).</span></span>  <br/> |[<span data-ttu-id="5f784-127">SmtpReceiveAgent</span><span class="sxs-lookup"><span data-stu-id="5f784-127">SmtpReceiveAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx) <br/> |
|<span data-ttu-id="5f784-128">Transporte</span><span class="sxs-lookup"><span data-stu-id="5f784-128">Transport</span></span>  <br/> |<span data-ttu-id="5f784-129">Se ejecuta en todos los servidores de buzones de correo y es similar a la función de [servidor transporte de concentradores](http://technet.microsoft.com/en-us/library/bb123494%28v=exchg.141%29.aspx) en Exchange Server 2010.</span><span class="sxs-lookup"><span data-stu-id="5f784-129">Runs on all Mailbox servers and is similar to the [Hub Transport server](http://technet.microsoft.com/en-us/library/bb123494%28v=exchg.141%29.aspx) role in Exchange Server 2010.</span></span> <span data-ttu-id="5f784-130">El servicio de transporte enruta los mensajes entre sí y los servicios de transporte de buzón de correo y transporte de Front-End.</span><span class="sxs-lookup"><span data-stu-id="5f784-130">The Transport service routes messages between itself and the Mailbox Transport and Front End Transport services.</span></span> <span data-ttu-id="5f784-131">Este servicio no se comunica directamente con las bases de datos de buzón de correo.</span><span class="sxs-lookup"><span data-stu-id="5f784-131">This service does not communicate directly with mailbox databases.</span></span>  <br/> |[<span data-ttu-id="5f784-132">SmtpReceiveAgent</span><span class="sxs-lookup"><span data-stu-id="5f784-132">SmtpReceiveAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx) <br/> [<span data-ttu-id="5f784-133">RoutingAgent</span><span class="sxs-lookup"><span data-stu-id="5f784-133">RoutingAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgent.aspx) <br/> [<span data-ttu-id="5f784-134">DeliveryAgent</span><span class="sxs-lookup"><span data-stu-id="5f784-134">DeliveryAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Delivery.DeliveryAgent.aspx) <br/> |
|<span data-ttu-id="5f784-135">Transporte de buzones</span><span class="sxs-lookup"><span data-stu-id="5f784-135">Mailbox Transport</span></span>  <br/> |<span data-ttu-id="5f784-136">Se ejecuta en todos los servidores de buzones de correo y se compone de dos servicios independientes: envío de transporte de buzón de correo y entrega de transporte de buzón de correo.</span><span class="sxs-lookup"><span data-stu-id="5f784-136">Runs on all Mailbox servers and consists of two separate services: Mailbox Transport Submission and Mailbox Transport Delivery.</span></span> <span data-ttu-id="5f784-137">Entrega de transporte de buzón de correo recibe los mensajes SMTP desde el servicio de transporte y se conecta a la base de datos de buzones de correo mediante una llamada a procedimiento remoto (RPC de) Exchange para entregar el mensaje.</span><span class="sxs-lookup"><span data-stu-id="5f784-137">Mailbox Transport Delivery receives SMTP messages from the Transport service, and connects to the mailbox database by using an Exchange remote procedure call (RPC) to deliver the message.</span></span> <span data-ttu-id="5f784-138">Envío de transporte de buzón de correo se conecta a la base de datos de buzones de correo mediante RPC para recuperar los mensajes y envía los mensajes a través de SMTP para el servicio de transporte.</span><span class="sxs-lookup"><span data-stu-id="5f784-138">Mailbox Transport Submission connects to the mailbox database using RPC to retrieve messages, and submits the messages via SMTP to the Transport service.</span></span>  <br/> |<span data-ttu-id="5f784-139">Ninguno.</span><span class="sxs-lookup"><span data-stu-id="5f784-139">None.</span></span>  <br/> |
   
### <a name="transport-events"></a><span data-ttu-id="5f784-140">Eventos de transporte</span><span class="sxs-lookup"><span data-stu-id="5f784-140">Transport events</span></span>
<span data-ttu-id="5f784-141"><a name="Events"> </a></span><span class="sxs-lookup"><span data-stu-id="5f784-141"></span></span>

<span data-ttu-id="5f784-142">Implementar a los agentes de transporte registrando en primer lugar para un evento, y luego llevar a cabo una acción cuando se desencadena el evento.</span><span class="sxs-lookup"><span data-stu-id="5f784-142">You implement transport agents by first registering for an event, and then taking an action when that event fires.</span></span> <span data-ttu-id="5f784-143">Cada uno de los tipos de tres agente puede registrarse para obtener un conjunto diferente de eventos.</span><span class="sxs-lookup"><span data-stu-id="5f784-143">Each of the three agent types can register for a different set of events.</span></span>
  
<span data-ttu-id="5f784-144">En la siguiente figura se muestra dónde en el transporte de canalización de transporte los agentes pueden registrar los eventos.</span><span class="sxs-lookup"><span data-stu-id="5f784-144">The following figure shows where in the transport pipeline transport agents can register for events.</span></span>
  
<span data-ttu-id="5f784-145">**En la figura 1. Eventos de transporte**</span><span class="sxs-lookup"><span data-stu-id="5f784-145">**Figure 1. Transport events**</span></span>

![Imagen que muestra el flujo de mensajes por la canalización de transporte y los eventos que cada agente puede registrar, comenzando por los eventos Smtp para SmtpReceivedAgent, después los eventos Categorizor para RoutingAgent y, por último, eventos Deliver para DeliveryAgent.](media/TAConceptsFig1.png)
  
<span data-ttu-id="5f784-147">Cuando un mensaje entra en la canalización de transporte, un agente de transporte derivado de la clase [SmtpReceiveAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx) puede actuar en el mensaje durante cualquiera de los eventos de SMTP que el agente registrado para.</span><span class="sxs-lookup"><span data-stu-id="5f784-147">When a message enters the transport pipeline, a transport agent derived from the [SmtpReceiveAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx) class can act on the message during any of the SMTP events that the agent registered for.</span></span> <span data-ttu-id="5f784-148">Un agente derivado de la clase [RoutingAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgent.aspx) puede actuar en cualquiera de los cuatro eventos de categorizador que se han registrado para.</span><span class="sxs-lookup"><span data-stu-id="5f784-148">An agent derived from the [RoutingAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgent.aspx) class can act on any of the four categorizer events that it has registered for.</span></span> <span data-ttu-id="5f784-149">Un agente derivado de la clase [DeliveryAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Delivery.DeliveryAgent.aspx) puede actuar en un mensaje durante cualquiera de los eventos de entrega que se han registrado para.</span><span class="sxs-lookup"><span data-stu-id="5f784-149">An agent derived from the [DeliveryAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Delivery.DeliveryAgent.aspx) class can act on a message during any of the delivery events that it has registered for.</span></span> 
  
## <a name="transport-agents-and-server-roles"></a><span data-ttu-id="5f784-150">Los agentes de transporte y funciones de servidor</span><span class="sxs-lookup"><span data-stu-id="5f784-150">Transport agents and server roles</span></span>
<span data-ttu-id="5f784-151"><a name="ServerRoles"> </a></span><span class="sxs-lookup"><span data-stu-id="5f784-151"></span></span>

<span data-ttu-id="5f784-152">Los cambios realizados en la arquitectura del rol de servidor en Exchange 2013 afecta a los agentes de transporte y lo que pueden hacer los agentes de transporte.</span><span class="sxs-lookup"><span data-stu-id="5f784-152">Changes to the server role architecture in Exchange 2013 affect transport agents and what your transport agents can do.</span></span> <span data-ttu-id="5f784-153">Exchange 2013 incluye las siguientes funciones de servidor:</span><span class="sxs-lookup"><span data-stu-id="5f784-153">Exchange 2013 includes the following server roles:</span></span>
  
- <span data-ttu-id="5f784-154">Servidor de buzones: protocolos incluye acceso de cliente, el servicio de transporte, las bases de datos de buzones de correo y componentes de mensajería unificada.</span><span class="sxs-lookup"><span data-stu-id="5f784-154">Mailbox server — Includes Client Access protocols, the Transport service, mailbox databases, and Unified Messaging components.</span></span> <span data-ttu-id="5f784-155">El servidor de buzón de correo se comunica directamente con los servicios de dominio de Active Directory (AD DS), los servidores de acceso de cliente y los clientes de correo, como Outlook.</span><span class="sxs-lookup"><span data-stu-id="5f784-155">The Mailbox server communicates directly with Active Directory Domain Services (AD DS), Client Access servers, and mail clients such as Outlook.</span></span>
    
- <span data-ttu-id="5f784-156">Servidor acceso de cliente: proporciona autenticación, redirección limitado, servicios de proxy y protocolos de acceso de cliente, como HTTP, POP, IMAP y SMTP.</span><span class="sxs-lookup"><span data-stu-id="5f784-156">Client Access server — Provides authentication, limited redirection, proxy services, and client access protocols such as HTTP, POP, IMAP, and SMTP.</span></span>
    
- <span data-ttu-id="5f784-157">Servidor de transporte perimetral: rutas de correo electrónico dentro y fuera de una organización.</span><span class="sxs-lookup"><span data-stu-id="5f784-157">Edge Transport server — Routes email into and out of an organization.</span></span> <span data-ttu-id="5f784-158">Servidores de transporte perimetral se encuentran normalmente en el perímetro de una topología de Exchange.</span><span class="sxs-lookup"><span data-stu-id="5f784-158">Edge Transport servers typically sit at the perimeter of an Exchange topology.</span></span>
    
<span data-ttu-id="5f784-159">Esta estructura consolidada reduce el número de servidores que deben implementarse en un entorno de Exchange 2013.</span><span class="sxs-lookup"><span data-stu-id="5f784-159">This consolidated structure reduces the number of servers that need to be deployed in an Exchange 2013 environment.</span></span> <span data-ttu-id="5f784-160">Los administradores ya no tienen que implementar servidores de transporte de concentradores y acceso de cliente en cada sitio de Active Directory que incluye un servidor de buzón de correo y ya no es necesario actualizar todos los roles de servidor para poder aprovechar las ventajas de la nueva funcionalidad.</span><span class="sxs-lookup"><span data-stu-id="5f784-160">Administrators no longer have to deploy Hub Transport and Client Access servers in every Active Directory site that includes a Mailbox server, and they no longer need to update all server roles in order to take advantage of new functionality.</span></span>
  
<span data-ttu-id="5f784-161">Estos cambios a la arquitectura del rol de servidor pueden afectar a donde en la canalización de los agentes pueden responder a eventos.</span><span class="sxs-lookup"><span data-stu-id="5f784-161">These changes to the server role architecture can potentially affect where in the pipeline your agent can respond to events.</span></span> <span data-ttu-id="5f784-162">Si ha creado a los agentes de transporte para las versiones de Exchange anteriores a Exchange 2013, asegúrese de revisar los cambios de arquitectura para determinar si necesita realizar cambios en los agentes.</span><span class="sxs-lookup"><span data-stu-id="5f784-162">If you have created transport agents for versions of Exchange earlier than Exchange 2013, be sure to review the architectural changes to determine whether you need to make any changes to your agents.</span></span>
  
<span data-ttu-id="5f784-163">La siguiente ilustración muestra cómo los cambios en la arquitectura de Exchange 2013 de resultados en una canalización de transporte simplificado y consolidado.</span><span class="sxs-lookup"><span data-stu-id="5f784-163">The following figure shows how the architectural changes in Exchange 2013 result in a streamlined, consolidated transport pipeline.</span></span> <span data-ttu-id="5f784-164">En esta figura, los servidores de acceso de cliente están etiquetadas como entidades de certificación.</span><span class="sxs-lookup"><span data-stu-id="5f784-164">In this figure, Client Access servers are labeled CAS.</span></span> <span data-ttu-id="5f784-165">Y los servidores de buzones se etiquetan los Buzones.</span><span class="sxs-lookup"><span data-stu-id="5f784-165">And Mailbox servers are labeled MBX.</span></span>
  
<span data-ttu-id="5f784-166">**La figura 2. Arquitectura del rol de servidor de Exchange 2013**</span><span class="sxs-lookup"><span data-stu-id="5f784-166">**Figure 2. Exchange 2013 server role architecture**</span></span>

![Imagen que muestra el tráfico de cliente a través de un firewall externo, el Transporte perimetral a la izquierda que pasa el tráfico por un equilibrio de carga de nivel 4 a una matriz CAS consolidada y un conjunto de servidores de buzones en un grupo de accesibilidad a bases de datos a la derecha.](media/Transport_Agent_Concepts_Fig_3.png)
  
<span data-ttu-id="5f784-168">La siguiente ilustración muestra las interacciones entre las funciones de servidor Exchange 2013.</span><span class="sxs-lookup"><span data-stu-id="5f784-168">The following figure shows the interactions between the Exchange 2013 server roles.</span></span>
  
<span data-ttu-id="5f784-169">**La figura 3. Interacciones de servidor de buzón de correo y acceso de cliente**</span><span class="sxs-lookup"><span data-stu-id="5f784-169">**Figure 3. Mailbox and Client Access server interactions**</span></span>

![Imagen que muestra las interacciones que se inician con flechas desde el tráfico de cliente que pasa por un equilibrio de carga de nivel 4 que tiene 4 destinos en la matriz CAS: proxy IIS/HTTP, POP/IMAP, SMTP y UM. Las flechas pasan a sus destinos complementarios en el almacén de buzones.](media/Transport_Agent_Concepts_Fig_4.png)
  
<span data-ttu-id="5f784-172">Para obtener más información acerca de los cambios en la arquitectura del rol de servidor de Exchange 2013, vea [arquitectura de Exchange 2013](http://technet.microsoft.com/en-us/library/jj150540%28v=exchg.150%29.aspx#BKMK_Arch) en [Novedades en Exchange 2013](http://technet.microsoft.com/en-us/library/jj150540%28v=exchg.150%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="5f784-172">For more information about changes in the Exchange 2013 server role architecture, see [Exchange 2013 architecture](http://technet.microsoft.com/en-us/library/jj150540%28v=exchg.150%29.aspx#BKMK_Arch) in [What's New in Exchange 2013](http://technet.microsoft.com/en-us/library/jj150540%28v=exchg.150%29.aspx).</span></span> 
  
## <a name="transport-agent-classes"></a><span data-ttu-id="5f784-173">Clases de agente de transporte</span><span class="sxs-lookup"><span data-stu-id="5f784-173">Transport agent classes</span></span>
<span data-ttu-id="5f784-174"><a name="Create"> </a></span><span class="sxs-lookup"><span data-stu-id="5f784-174"></span></span>

<span data-ttu-id="5f784-175">La clase que se deriva el agente de transporte determina los eventos para los que puede registrar su agente.</span><span class="sxs-lookup"><span data-stu-id="5f784-175">The class your transport agent derives from determines the events for which your agent can register.</span></span> <span data-ttu-id="5f784-176">El agente normalmente contendrá una clase de agente, un generador de agentes, uno o varios controladores de eventos y el código que realiza las acciones que desea que realice su agente.</span><span class="sxs-lookup"><span data-stu-id="5f784-176">Your agent will typically contain an agent class, an agent factory, one or more event handlers, and the code that performs the actions that you want your agent to take.</span></span>
  
<span data-ttu-id="5f784-177">En la siguiente tabla se enumera las clases desde la que se derivan para cada tipo de agente.</span><span class="sxs-lookup"><span data-stu-id="5f784-177">The following table lists the classes from which to derive for each agent type.</span></span>
  
<span data-ttu-id="5f784-178">**Tabla 2. Clases de agente**</span><span class="sxs-lookup"><span data-stu-id="5f784-178">**Table 2. Agent classes**</span></span>

||||
|:-----|:-----|:-----|
|<span data-ttu-id="5f784-179">Tipo de agente</span><span class="sxs-lookup"><span data-stu-id="5f784-179">Agent type</span></span>  <br/> |<span data-ttu-id="5f784-180">Clase base de fábrica</span><span class="sxs-lookup"><span data-stu-id="5f784-180">Factory base class</span></span>  <br/> |<span data-ttu-id="5f784-181">Clase base del agente</span><span class="sxs-lookup"><span data-stu-id="5f784-181">Agent base class</span></span>  <br/> |
|<span data-ttu-id="5f784-182">De recepción SMTP</span><span class="sxs-lookup"><span data-stu-id="5f784-182">SMTP receive</span></span>  <br/> |[<span data-ttu-id="5f784-183">SmtpReceiveAgentFactory</span><span class="sxs-lookup"><span data-stu-id="5f784-183">SmtpReceiveAgentFactory</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgentFactory.aspx) <br/> |[<span data-ttu-id="5f784-184">SmtpReceiveAgent</span><span class="sxs-lookup"><span data-stu-id="5f784-184">SmtpReceiveAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx) <br/> |
|<span data-ttu-id="5f784-185">Enrutamiento</span><span class="sxs-lookup"><span data-stu-id="5f784-185">Routing</span></span>  <br/> |[<span data-ttu-id="5f784-186">RoutingAgentFactory</span><span class="sxs-lookup"><span data-stu-id="5f784-186">RoutingAgentFactory</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgentFactory.aspx) <br/> |[<span data-ttu-id="5f784-187">RoutingAgent</span><span class="sxs-lookup"><span data-stu-id="5f784-187">RoutingAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgent.aspx) <br/> |
|<span data-ttu-id="5f784-188">Entrega</span><span class="sxs-lookup"><span data-stu-id="5f784-188">Delivery</span></span>  <br/> |[<span data-ttu-id="5f784-189">DeliveryAgentFactory\<Manager\></span><span class="sxs-lookup"><span data-stu-id="5f784-189">DeliveryAgentFactory\<Manager\></span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Delivery.DeliveryAgentFactory`1.aspx) <br/> |[<span data-ttu-id="5f784-190">DeliveryAgent</span><span class="sxs-lookup"><span data-stu-id="5f784-190">DeliveryAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Delivery.DeliveryAgent.aspx) <br/> |
   
<span data-ttu-id="5f784-191">Estas clases base de fábrica y agente proporcionan propiedades y métodos que puede usar para obtener acceso a los eventos de transporte y mensajes.</span><span class="sxs-lookup"><span data-stu-id="5f784-191">These factory and agent base classes provide properties and methods that you can use to access transport events and messages.</span></span> <span data-ttu-id="5f784-192">Implementar las clases en el agente que heredan de estas clases.</span><span class="sxs-lookup"><span data-stu-id="5f784-192">Implement classes in your agent that inherit from these classes.</span></span> <span data-ttu-id="5f784-193">En la clase derivada de fábrica del agente, reemplace el método **CreateAgent** para que devuelva una nueva instancia de la clase de agente.</span><span class="sxs-lookup"><span data-stu-id="5f784-193">In the agent factory derived class, override the **CreateAgent** method so that it returns a new instance of your agent class.</span></span> 
  
<span data-ttu-id="5f784-194">Argumentos que se pasan a los eventos pueden contener una instancia de la clase [EmailMessage](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Email.EmailMessage.aspx) , que puede usar para cambiar las propiedades y el contenido del mensaje subyacente.</span><span class="sxs-lookup"><span data-stu-id="5f784-194">Arguments passed to the events can contain an instance of the [EmailMessage](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Email.EmailMessage.aspx) class, which you can use to change the properties and contents of the underlying message.</span></span> <span data-ttu-id="5f784-195">No toda la información de mensaje está disponible en cada evento.</span><span class="sxs-lookup"><span data-stu-id="5f784-195">Not all message information is available in each event.</span></span> <span data-ttu-id="5f784-196">Debe determinar a qué agente y qué evento es adecuado para la tarea que desee realizar.</span><span class="sxs-lookup"><span data-stu-id="5f784-196">You must determine which agent and which event is best for the task you want to accomplish.</span></span> 
  
<span data-ttu-id="5f784-197">Los siguientes espacios de nombres contienen tipos que puede usar para leer, escribir y modificar los mensajes en la canalización de transporte:</span><span class="sxs-lookup"><span data-stu-id="5f784-197">The following namespaces contain types that you can use to read, write, and modify messages in the transport pipeline:</span></span>
  
- [<span data-ttu-id="5f784-198">Microsoft.Exchange.Data.Mime.Encoders</span><span class="sxs-lookup"><span data-stu-id="5f784-198">Microsoft.Exchange.Data.Mime.Encoders</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Mime.Encoders.aspx)
    
- [<span data-ttu-id="5f784-199">Microsoft.Exchange.Data.ContentTypes.iCalendar</span><span class="sxs-lookup"><span data-stu-id="5f784-199">Microsoft.Exchange.Data.ContentTypes.iCalendar</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.ContentTypes.iCalendar.aspx)
    
- [<span data-ttu-id="5f784-200">Microsoft.Exchange.Data.Mime</span><span class="sxs-lookup"><span data-stu-id="5f784-200">Microsoft.Exchange.Data.Mime</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Mime.aspx)
    
- [<span data-ttu-id="5f784-201">Microsoft.Exchange.Data.ContentTypes.Tnef</span><span class="sxs-lookup"><span data-stu-id="5f784-201">Microsoft.Exchange.Data.ContentTypes.Tnef</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.ContentTypes.Tnef.aspx)
    
- [<span data-ttu-id="5f784-202">Microsoft.Exchange.Data.ContentTypes.vCard</span><span class="sxs-lookup"><span data-stu-id="5f784-202">Microsoft.Exchange.Data.ContentTypes.vCard</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.ContentTypes.vCard.aspx)
    
<span data-ttu-id="5f784-203">Tras escribir el agente de transporte, [instalar y administrar al agente](http://technet.microsoft.com/en-us/library/bb125175%28v=exchg.150%29.aspx) mediante el Shell de administración de Exchange.</span><span class="sxs-lookup"><span data-stu-id="5f784-203">After you write your transport agent, you [install and manage your agent](http://technet.microsoft.com/en-us/library/bb125175%28v=exchg.150%29.aspx) by using the Exchange Management Shell.</span></span> <span data-ttu-id="5f784-204">Para obtener más información, vea [crear agentes de transporte de Exchange 2013](creating-transport-agents-for-exchange-2013.md).</span><span class="sxs-lookup"><span data-stu-id="5f784-204">For more information, see [Creating transport agents for Exchange 2013](creating-transport-agents-for-exchange-2013.md).</span></span> 
  
## <a name="see-also"></a><span data-ttu-id="5f784-205">Ver también</span><span class="sxs-lookup"><span data-stu-id="5f784-205">See also</span></span>

- [<span data-ttu-id="5f784-206">Los agentes de transporte en Exchange</span><span class="sxs-lookup"><span data-stu-id="5f784-206">Transport agents in Exchange</span></span>](transport-agents-in-exchange-2013.md)    
- [<span data-ttu-id="5f784-207">Referencia de agente de transporte de Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="5f784-207">Transport agent reference for Exchange 2013</span></span>](transport-agent-reference-for-exchange-2013.md)   
- [<span data-ttu-id="5f784-208">Leer y modificar los mensajes en la canalización de transporte de Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="5f784-208">Reading and modifying messages in the Exchange 2013 transport pipeline</span></span>](reading-and-modifying-messages-in-the-exchange-2013-transport-pipeline.md)    
- [<span data-ttu-id="5f784-209">What ' s New in Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="5f784-209">What's New in Exchange 2013</span></span>](http://technet.microsoft.com/en-us/library/jj150540%28v=exchg.150%29.aspx)   
- [<span data-ttu-id="5f784-210">Arquitectura del rol de servidor de Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="5f784-210">Exchange 2013 Server Role Architecture</span></span>](http://blogs.technet.com/b/exchange/archive/2013/01/23/exchange-2013-server-role-architecture.aspx)    
- [<span data-ttu-id="5f784-211">Buzón de correo y servidores de acceso de cliente</span><span class="sxs-lookup"><span data-stu-id="5f784-211">Mailbox and Client Access Servers</span></span>](http://technet.microsoft.com/en-us/library/jj150519%28v=exchg.150%29.aspx)   
- [<span data-ttu-id="5f784-212">Flujo de correo de Exchange Server 2013</span><span class="sxs-lookup"><span data-stu-id="5f784-212">Exchange Server 2013 Mail Flow</span></span>](http://technet.microsoft.com/en-us/library/aa996349.aspx)
- [<span data-ttu-id="5f784-213">Enrutamiento de Exchange Server 2013 correo</span><span class="sxs-lookup"><span data-stu-id="5f784-213">Exchange Server 2013 Mail Routing</span></span>](http://technet.microsoft.com/en-us/library/aa998825%28v=exchg.150%29.aspx)   
- [<span data-ttu-id="5f784-214">Exchange Server PowerShell (Shell de administración de Exchange)</span><span class="sxs-lookup"><span data-stu-id="5f784-214">Exchange Server PowerShell (Exchange Management Shell)</span></span>](https://docs.microsoft.com/en-us/powershell/exchange/exchange-server/exchange-management-shell?view=exchange-ps)
    

