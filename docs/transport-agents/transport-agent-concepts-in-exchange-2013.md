---
title: Conceptos del agente de transporte en Exchange 2013
manager: sethgros
ms.date: 09/17/2015
ms.audience: Developer
ms.topic: overview
ms.prod: office-online-server
localization_priority: Normal
ms.assetid: 0c700af8-2792-4d3f-8571-8860e0550d8e
description: Obtenga información acerca de cómo la canalización de agentes de transporte y la arquitectura de roles de servidor en Exchange 2013 afectan al desarrollo de agentes de transporte y a las clases que puede usar para desarrollar agentes de transporte.
ms.openlocfilehash: b9552ea4398ac8135a11b48eb7e7bdf5ec81985e
ms.sourcegitcommit: 88ec988f2bb67c1866d06b361615f3674a24e795
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/03/2020
ms.locfileid: "44527561"
---
# <a name="transport-agent-concepts-in-exchange-2013"></a><span data-ttu-id="70c55-103">Conceptos del agente de transporte en Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="70c55-103">Transport agent concepts in Exchange 2013</span></span>

<span data-ttu-id="70c55-104">Obtenga información acerca de cómo la canalización de agentes de transporte y la arquitectura de roles de servidor en Exchange 2013 afectan al desarrollo de agentes de transporte y a las clases que puede usar para desarrollar agentes de transporte.</span><span class="sxs-lookup"><span data-stu-id="70c55-104">Find information about how the transport agent pipeline and server role architecture in Exchange 2013 affect transport agent development, and the classes that you can use to develop transport agents.</span></span> 
  
<span data-ttu-id="70c55-105">**Se aplica a:** Exchange Server 2013</span><span class="sxs-lookup"><span data-stu-id="70c55-105">**Applies to:** Exchange Server 2013</span></span> 
  
<span data-ttu-id="70c55-106">Puede usar la biblioteca de clases que se proporciona en Exchange Server 2013 para implementar agentes de transporte que se registran para eventos y emprenden acciones en los mensajes a medida que pasan a través de la canalización de transporte.</span><span class="sxs-lookup"><span data-stu-id="70c55-106">You can use the class library provided in Exchange Server 2013 to implement transport agents that register for events and take actions on messages as they pass through the transport pipeline.</span></span> <span data-ttu-id="70c55-107">También puede usar agentes de transporte para modificar mensajes y convertir contenido.</span><span class="sxs-lookup"><span data-stu-id="70c55-107">You can also use transport agents to modify messages and convert content.</span></span> 
  
<span data-ttu-id="70c55-108">En este artículo se proporciona información acerca de los agentes de transporte y la arquitectura de canalización de transporte.</span><span class="sxs-lookup"><span data-stu-id="70c55-108">This article provides information about transport agents and the transport pipeline architecture.</span></span> <span data-ttu-id="70c55-109">Es importante comprender la arquitectura de la canalización de transporte para que pueda modificar el comportamiento de transporte para satisfacer las necesidades de su organización.</span><span class="sxs-lookup"><span data-stu-id="70c55-109">It is important to understand the architecture of the transport pipeline so that you can modify transport behavior to meet your organization's needs.</span></span> <span data-ttu-id="70c55-110">En este artículo también se proporciona información acerca de los cambios en la arquitectura de Exchange 2013 que afectan a los agentes de transporte y a las clases que puede usar para desarrollar agentes de transporte.</span><span class="sxs-lookup"><span data-stu-id="70c55-110">This article also provides information about changes in the Exchange 2013 architecture that affect transport agents and the classes that you can use to develop transport agents.</span></span> 
  
## <a name="transport-agents-in-the-transport-pipeline"></a><span data-ttu-id="70c55-111">Agentes de transporte en la canalización de transporte</span><span class="sxs-lookup"><span data-stu-id="70c55-111">Transport agents in the transport pipeline</span></span>
<span data-ttu-id="70c55-112"><a name="Pipeline"> </a></span><span class="sxs-lookup"><span data-stu-id="70c55-112"><a name="Pipeline"> </a></span></span>

<span data-ttu-id="70c55-113">Los agentes de transporte se derivan de una de las tres clases siguientes:</span><span class="sxs-lookup"><span data-stu-id="70c55-113">Transport agents are derived from one of the following three classes:</span></span>
  
- [<span data-ttu-id="70c55-114">SmtpReceiveAgent</span><span class="sxs-lookup"><span data-stu-id="70c55-114">SmtpReceiveAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx)
- [<span data-ttu-id="70c55-115">RoutingAgent</span><span class="sxs-lookup"><span data-stu-id="70c55-115">RoutingAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgent.aspx)
- [<span data-ttu-id="70c55-116">DeliveryAgent</span><span class="sxs-lookup"><span data-stu-id="70c55-116">DeliveryAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Delivery.DeliveryAgent.aspx)
    
<span data-ttu-id="70c55-117">La canalización de transporte hace referencia al flujo de datos de mensajes dentro de los límites de una organización de Exchange 2013.</span><span class="sxs-lookup"><span data-stu-id="70c55-117">The transport pipeline refers to the flow of message data within the boundaries of an Exchange 2013 organization.</span></span> <span data-ttu-id="70c55-118">La canalización consta de los servicios que se enumeran en la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="70c55-118">The pipeline consists of the services listed in the following table.</span></span>
  
<span data-ttu-id="70c55-119">**Tabla 1. Servicios de canalización de transporte**</span><span class="sxs-lookup"><span data-stu-id="70c55-119">**Table 1. Transport pipeline services**</span></span>

|<span data-ttu-id="70c55-120">**Servicio**</span><span class="sxs-lookup"><span data-stu-id="70c55-120">**Service**</span></span>|<span data-ttu-id="70c55-121">**Descripción**</span><span class="sxs-lookup"><span data-stu-id="70c55-121">**Description**</span></span>|<span data-ttu-id="70c55-122">**Clases admitidas**</span><span class="sxs-lookup"><span data-stu-id="70c55-122">**Classes supported**</span></span>|
|:-----|:-----|:-----|
|<span data-ttu-id="70c55-123">Transporte front-end</span><span class="sxs-lookup"><span data-stu-id="70c55-123">Front End Transport</span></span>  <br/> |<span data-ttu-id="70c55-124">Se ejecuta en todos los [servidores de acceso de cliente](https://technet.microsoft.com/library/dd298114%28v=exchg.150%29.aspx) y actúa como un proxy sin estado para todo el tráfico SMTP externo entrante y saliente para la organización Exchange 2013.</span><span class="sxs-lookup"><span data-stu-id="70c55-124">Runs on all [Client Access servers](https://technet.microsoft.com/library/dd298114%28v=exchg.150%29.aspx) and acts as a stateless proxy for all inbound and outbound external SMTP traffic for the Exchange 2013 organization.</span></span> <span data-ttu-id="70c55-125">El servicio de transporte front-end no inspecciona el contenido del mensaje ni pone en cola los mensajes de forma local.</span><span class="sxs-lookup"><span data-stu-id="70c55-125">The Front End Transport service doesn't inspect message content or queue any messages locally.</span></span> <span data-ttu-id="70c55-126">Se comunica con el servicio de transporte en un [servidor de buzones de correo](https://technet.microsoft.com/library/jj150491%28v=exchg.150%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="70c55-126">It communicates with the Transport service on a [Mailbox server](https://technet.microsoft.com/library/jj150491%28v=exchg.150%29.aspx).</span></span>  <br/> |[<span data-ttu-id="70c55-127">SmtpReceiveAgent</span><span class="sxs-lookup"><span data-stu-id="70c55-127">SmtpReceiveAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx) <br/> |
|<span data-ttu-id="70c55-128">Transport</span><span class="sxs-lookup"><span data-stu-id="70c55-128">Transport</span></span>  <br/> |<span data-ttu-id="70c55-129">Se ejecuta en todos los servidores de buzones de correo y es similar a la función de [servidor transporte de concentradores](https://technet.microsoft.com/library/bb123494%28v=exchg.141%29.aspx) en Exchange Server 2010.</span><span class="sxs-lookup"><span data-stu-id="70c55-129">Runs on all Mailbox servers and is similar to the [Hub Transport server](https://technet.microsoft.com/library/bb123494%28v=exchg.141%29.aspx) role in Exchange Server 2010.</span></span> <span data-ttu-id="70c55-130">El servicio de transporte enruta los mensajes entre sí y los servicios de transporte de buzones y de transporte front-end.</span><span class="sxs-lookup"><span data-stu-id="70c55-130">The Transport service routes messages between itself and the Mailbox Transport and Front End Transport services.</span></span> <span data-ttu-id="70c55-131">Este servicio no se comunica directamente con las bases de datos de buzones de correo.</span><span class="sxs-lookup"><span data-stu-id="70c55-131">This service does not communicate directly with mailbox databases.</span></span>  <br/> |[<span data-ttu-id="70c55-132">SmtpReceiveAgent</span><span class="sxs-lookup"><span data-stu-id="70c55-132">SmtpReceiveAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx) <br/> [<span data-ttu-id="70c55-133">RoutingAgent</span><span class="sxs-lookup"><span data-stu-id="70c55-133">RoutingAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgent.aspx) <br/> [<span data-ttu-id="70c55-134">DeliveryAgent</span><span class="sxs-lookup"><span data-stu-id="70c55-134">DeliveryAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Delivery.DeliveryAgent.aspx) <br/> |
|<span data-ttu-id="70c55-135">Transporte de buzones</span><span class="sxs-lookup"><span data-stu-id="70c55-135">Mailbox Transport</span></span>  <br/> |<span data-ttu-id="70c55-136">Se ejecuta en todos los servidores de buzones de correo y consta de dos servicios independientes: envío de transporte de buzones y entrega de transporte de buzones.</span><span class="sxs-lookup"><span data-stu-id="70c55-136">Runs on all Mailbox servers and consists of two separate services: Mailbox Transport Submission and Mailbox Transport Delivery.</span></span> <span data-ttu-id="70c55-137">La entrega de transporte de buzones de correo recibe mensajes SMTP del servicio de transporte y se conecta a la base de datos de buzones de correo mediante una llamada a procedimiento remoto (RPC) de Exchange para entregar el mensaje.</span><span class="sxs-lookup"><span data-stu-id="70c55-137">Mailbox Transport Delivery receives SMTP messages from the Transport service, and connects to the mailbox database by using an Exchange remote procedure call (RPC) to deliver the message.</span></span> <span data-ttu-id="70c55-138">El envío de transporte de buzones de correo se conecta a la base de datos de buzones de correo mediante RPC para recuperar mensajes y envía los mensajes a través de SMTP al servicio de transporte.</span><span class="sxs-lookup"><span data-stu-id="70c55-138">Mailbox Transport Submission connects to the mailbox database using RPC to retrieve messages, and submits the messages via SMTP to the Transport service.</span></span>  <br/> |<span data-ttu-id="70c55-139">Ninguna.</span><span class="sxs-lookup"><span data-stu-id="70c55-139">None.</span></span>  <br/> |
   
### <a name="transport-events"></a><span data-ttu-id="70c55-140">Eventos de transporte</span><span class="sxs-lookup"><span data-stu-id="70c55-140">Transport events</span></span>
<span data-ttu-id="70c55-141"><a name="Events"> </a></span><span class="sxs-lookup"><span data-stu-id="70c55-141"><a name="Events"> </a></span></span>

<span data-ttu-id="70c55-142">Los agentes de transporte se implementan en primer lugar al registrarse para un evento y, a continuación, realizar una acción cuando se desencadene el evento.</span><span class="sxs-lookup"><span data-stu-id="70c55-142">You implement transport agents by first registering for an event, and then taking an action when that event fires.</span></span> <span data-ttu-id="70c55-143">Cada uno de los tres tipos de agentes se puede registrar para un conjunto de eventos diferente.</span><span class="sxs-lookup"><span data-stu-id="70c55-143">Each of the three agent types can register for a different set of events.</span></span>
  
<span data-ttu-id="70c55-144">La siguiente figura muestra dónde pueden registrarse los agentes de transporte de las canalizaciones de transporte para los eventos.</span><span class="sxs-lookup"><span data-stu-id="70c55-144">The following figure shows where in the transport pipeline transport agents can register for events.</span></span>
  
<span data-ttu-id="70c55-145">**Figura 1. Eventos de transporte**</span><span class="sxs-lookup"><span data-stu-id="70c55-145">**Figure 1. Transport events**</span></span>

![Imagen que muestra el flujo de mensajes por la canalización de transporte y los eventos que cada agente puede registrar, comenzando por los eventos Smtp para SmtpReceivedAgent, después los eventos Categorizor para RoutingAgent y, por último, eventos Deliver para DeliveryAgent.](media/TAConceptsFig1.png)
  
<span data-ttu-id="70c55-147">Cuando un mensaje entra en la canalización de transporte, un agente de transporte derivado de la clase [SmtpReceiveAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx) puede actuar en el mensaje durante cualquiera de los eventos SMTP que el agente ha registrado.</span><span class="sxs-lookup"><span data-stu-id="70c55-147">When a message enters the transport pipeline, a transport agent derived from the [SmtpReceiveAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx) class can act on the message during any of the SMTP events that the agent registered for.</span></span> <span data-ttu-id="70c55-148">Un agente derivado de la clase [RoutingAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgent.aspx) puede actuar en cualquiera de los cuatro eventos de categorizador para los que se ha registrado.</span><span class="sxs-lookup"><span data-stu-id="70c55-148">An agent derived from the [RoutingAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgent.aspx) class can act on any of the four categorizer events that it has registered for.</span></span> <span data-ttu-id="70c55-149">Un agente derivado de la clase [DeliveryAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Delivery.DeliveryAgent.aspx) puede actuar en un mensaje durante cualquier evento de entrega para el que se haya registrado.</span><span class="sxs-lookup"><span data-stu-id="70c55-149">An agent derived from the [DeliveryAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Delivery.DeliveryAgent.aspx) class can act on a message during any of the delivery events that it has registered for.</span></span> 
  
## <a name="transport-agents-and-server-roles"></a><span data-ttu-id="70c55-150">Agentes de transporte y roles de servidor</span><span class="sxs-lookup"><span data-stu-id="70c55-150">Transport agents and server roles</span></span>
<span data-ttu-id="70c55-151"><a name="ServerRoles"> </a></span><span class="sxs-lookup"><span data-stu-id="70c55-151"><a name="ServerRoles"> </a></span></span>

<span data-ttu-id="70c55-152">Los cambios en la arquitectura de roles de servidor de Exchange 2013 afectan a los agentes de transporte y a lo que pueden hacer los agentes de transporte.</span><span class="sxs-lookup"><span data-stu-id="70c55-152">Changes to the server role architecture in Exchange 2013 affect transport agents and what your transport agents can do.</span></span> <span data-ttu-id="70c55-153">Exchange 2013 incluye las siguientes funciones de servidor:</span><span class="sxs-lookup"><span data-stu-id="70c55-153">Exchange 2013 includes the following server roles:</span></span>
  
- <span data-ttu-id="70c55-154">Servidor de buzones de correo: incluye los protocolos de acceso de cliente, el servicio de transporte, las bases de datos de buzones y los componentes de mensajería unificada.</span><span class="sxs-lookup"><span data-stu-id="70c55-154">Mailbox server — Includes Client Access protocols, the Transport service, mailbox databases, and Unified Messaging components.</span></span> <span data-ttu-id="70c55-155">El servidor de buzones se comunica directamente con los servicios de dominio de Active Directory (AD DS), los servidores de acceso de cliente y los clientes de correo, como Outlook.</span><span class="sxs-lookup"><span data-stu-id="70c55-155">The Mailbox server communicates directly with Active Directory Domain Services (AD DS), Client Access servers, and mail clients such as Outlook.</span></span>
    
- <span data-ttu-id="70c55-156">Servidor de acceso de cliente: proporciona autenticación, redirección limitada, servicios proxy y protocolos de acceso de cliente, como HTTP, POP, IMAP y SMTP.</span><span class="sxs-lookup"><span data-stu-id="70c55-156">Client Access server — Provides authentication, limited redirection, proxy services, and client access protocols such as HTTP, POP, IMAP, and SMTP.</span></span>
    
- <span data-ttu-id="70c55-157">Servidor de transporte perimetral: enruta el correo electrónico dentro y fuera de una organización.</span><span class="sxs-lookup"><span data-stu-id="70c55-157">Edge Transport server — Routes email into and out of an organization.</span></span> <span data-ttu-id="70c55-158">Los servidores de transporte perimetral suelen sentarse en el perímetro de una topología de Exchange.</span><span class="sxs-lookup"><span data-stu-id="70c55-158">Edge Transport servers typically sit at the perimeter of an Exchange topology.</span></span>
    
<span data-ttu-id="70c55-159">Esta estructura consolidada reduce el número de servidores que se deben implementar en un entorno de Exchange 2013.</span><span class="sxs-lookup"><span data-stu-id="70c55-159">This consolidated structure reduces the number of servers that need to be deployed in an Exchange 2013 environment.</span></span> <span data-ttu-id="70c55-160">Los administradores ya no tienen que implementar servidores de transporte de concentradores y acceso de cliente en cada sitio de Active Directory que incluya un servidor de buzones de correo, y ya no necesitan actualizar todos los roles de servidor para aprovechar la nueva funcionalidad.</span><span class="sxs-lookup"><span data-stu-id="70c55-160">Administrators no longer have to deploy Hub Transport and Client Access servers in every Active Directory site that includes a Mailbox server, and they no longer need to update all server roles in order to take advantage of new functionality.</span></span>
  
<span data-ttu-id="70c55-161">Estos cambios en la arquitectura del rol de servidor pueden afectar a la ubicación de la canalización que el agente puede responder a los eventos.</span><span class="sxs-lookup"><span data-stu-id="70c55-161">These changes to the server role architecture can potentially affect where in the pipeline your agent can respond to events.</span></span> <span data-ttu-id="70c55-162">Si ha creado agentes de transporte para versiones de Exchange anteriores a Exchange 2013, asegúrese de revisar los cambios en la arquitectura para determinar si necesita realizar cambios en los agentes.</span><span class="sxs-lookup"><span data-stu-id="70c55-162">If you have created transport agents for versions of Exchange earlier than Exchange 2013, be sure to review the architectural changes to determine whether you need to make any changes to your agents.</span></span>
  
<span data-ttu-id="70c55-163">La siguiente figura muestra cómo los cambios en la arquitectura de Exchange 2013 dan como resultado una canalización de transporte optimizada y consolidada.</span><span class="sxs-lookup"><span data-stu-id="70c55-163">The following figure shows how the architectural changes in Exchange 2013 result in a streamlined, consolidated transport pipeline.</span></span> <span data-ttu-id="70c55-164">En esta figura, los servidores de acceso de cliente tienen la etiqueta CAS.</span><span class="sxs-lookup"><span data-stu-id="70c55-164">In this figure, Client Access servers are labeled CAS.</span></span> <span data-ttu-id="70c55-165">Y los servidores de buzones de correo tienen la etiqueta MBX.</span><span class="sxs-lookup"><span data-stu-id="70c55-165">And Mailbox servers are labeled MBX.</span></span>
  
<span data-ttu-id="70c55-166">**Figura 2. Arquitectura de roles de servidor de Exchange 2013**</span><span class="sxs-lookup"><span data-stu-id="70c55-166">**Figure 2. Exchange 2013 server role architecture**</span></span>

![Imagen que muestra el tráfico de cliente a través de un firewall externo, el Transporte perimetral a la izquierda que pasa el tráfico por un equilibrio de carga de nivel 4 a una matriz CAS consolidada y un conjunto de servidores de buzones en un grupo de accesibilidad a bases de datos a la derecha.](media/Transport_Agent_Concepts_Fig_3.png)
  
<span data-ttu-id="70c55-168">La siguiente figura muestra las interacciones entre los roles de servidor de Exchange 2013.</span><span class="sxs-lookup"><span data-stu-id="70c55-168">The following figure shows the interactions between the Exchange 2013 server roles.</span></span>
  
<span data-ttu-id="70c55-169">**Figura 3. Interacciones del servidor de acceso de cliente y buzón**</span><span class="sxs-lookup"><span data-stu-id="70c55-169">**Figure 3. Mailbox and Client Access server interactions**</span></span>

![Imagen que muestra las interacciones que se inician con flechas desde el tráfico de cliente que pasa por un equilibrio de carga de nivel 4 que tiene 4 destinos en la matriz CAS: proxy IIS/HTTP, POP/IMAP, SMTP y UM. Las flechas pasan a sus destinos complementarios en el almacén de buzones.](media/Transport_Agent_Concepts_Fig_4.png)
  
<span data-ttu-id="70c55-172">Para obtener más información acerca de los cambios en la arquitectura de roles de servidor de Exchange 2013, consulte [arquitectura de exchange 2013](https://technet.microsoft.com/library/jj150540%28v=exchg.150%29.aspx#BKMK_Arch) en [What's New in Exchange 2013](https://technet.microsoft.com/library/jj150540%28v=exchg.150%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="70c55-172">For more information about changes in the Exchange 2013 server role architecture, see [Exchange 2013 architecture](https://technet.microsoft.com/library/jj150540%28v=exchg.150%29.aspx#BKMK_Arch) in [What's New in Exchange 2013](https://technet.microsoft.com/library/jj150540%28v=exchg.150%29.aspx).</span></span> 
  
## <a name="transport-agent-classes"></a><span data-ttu-id="70c55-173">Clases de agente de transporte</span><span class="sxs-lookup"><span data-stu-id="70c55-173">Transport agent classes</span></span>
<span data-ttu-id="70c55-174"><a name="Create"> </a></span><span class="sxs-lookup"><span data-stu-id="70c55-174"><a name="Create"> </a></span></span>

<span data-ttu-id="70c55-175">La clase de la que deriva el agente de transporte determina los eventos que el agente puede registrar.</span><span class="sxs-lookup"><span data-stu-id="70c55-175">The class your transport agent derives from determines the events for which your agent can register.</span></span> <span data-ttu-id="70c55-176">Normalmente, el agente contendrá una clase de agente, un generador de agentes, uno o más controladores de eventos y el código que realiza las acciones que desea que realice el agente.</span><span class="sxs-lookup"><span data-stu-id="70c55-176">Your agent will typically contain an agent class, an agent factory, one or more event handlers, and the code that performs the actions that you want your agent to take.</span></span>
  
<span data-ttu-id="70c55-177">En la siguiente tabla se enumeran las clases desde las que se va a derivar para cada tipo de agente.</span><span class="sxs-lookup"><span data-stu-id="70c55-177">The following table lists the classes from which to derive for each agent type.</span></span>
  
<span data-ttu-id="70c55-178">**Tabla 2. Clases de agente**</span><span class="sxs-lookup"><span data-stu-id="70c55-178">**Table 2. Agent classes**</span></span>

||||
|:-----|:-----|:-----|
|<span data-ttu-id="70c55-179">Tipo de agente</span><span class="sxs-lookup"><span data-stu-id="70c55-179">Agent type</span></span>  <br/> |<span data-ttu-id="70c55-180">Clase base de fábrica</span><span class="sxs-lookup"><span data-stu-id="70c55-180">Factory base class</span></span>  <br/> |<span data-ttu-id="70c55-181">Clase base de agente</span><span class="sxs-lookup"><span data-stu-id="70c55-181">Agent base class</span></span>  <br/> |
|<span data-ttu-id="70c55-182">Recepción SMTP</span><span class="sxs-lookup"><span data-stu-id="70c55-182">SMTP receive</span></span>  <br/> |[<span data-ttu-id="70c55-183">SmtpReceiveAgentFactory</span><span class="sxs-lookup"><span data-stu-id="70c55-183">SmtpReceiveAgentFactory</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgentFactory.aspx) <br/> |[<span data-ttu-id="70c55-184">SmtpReceiveAgent</span><span class="sxs-lookup"><span data-stu-id="70c55-184">SmtpReceiveAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx) <br/> |
|<span data-ttu-id="70c55-185">Distribuir</span><span class="sxs-lookup"><span data-stu-id="70c55-185">Routing</span></span>  <br/> |[<span data-ttu-id="70c55-186">RoutingAgentFactory</span><span class="sxs-lookup"><span data-stu-id="70c55-186">RoutingAgentFactory</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgentFactory.aspx) <br/> |[<span data-ttu-id="70c55-187">RoutingAgent</span><span class="sxs-lookup"><span data-stu-id="70c55-187">RoutingAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgent.aspx) <br/> |
|<span data-ttu-id="70c55-188">Delivery</span><span class="sxs-lookup"><span data-stu-id="70c55-188">Delivery</span></span>  <br/> |<span data-ttu-id="70c55-189">[DeliveryAgentFactory\<Manager\>](https://msdn.microsoft.com/library/dd877550(v=exchg.150).aspx)</span><span class="sxs-lookup"><span data-stu-id="70c55-189">[DeliveryAgentFactory\<Manager\>](https://msdn.microsoft.com/library/dd877550(v=exchg.150).aspx)</span></span> <br/> |<span data-ttu-id="70c55-190">[DeliveryAgent](https://msdn.microsoft.com/library/microsoft.exchange.data.transport.delivery.deliveryagent(v=exchg.150).aspx)</span><span class="sxs-lookup"><span data-stu-id="70c55-190">[DeliveryAgent](https://msdn.microsoft.com/library/microsoft.exchange.data.transport.delivery.deliveryagent(v=exchg.150).aspx)</span></span> <br/> |
   
<span data-ttu-id="70c55-191">Estas clases base de generador y agente proporcionan propiedades y métodos que puede usar para tener acceso a eventos y mensajes de transporte.</span><span class="sxs-lookup"><span data-stu-id="70c55-191">These factory and agent base classes provide properties and methods that you can use to access transport events and messages.</span></span> <span data-ttu-id="70c55-192">Implementar clases en el agente que hereden de estas clases.</span><span class="sxs-lookup"><span data-stu-id="70c55-192">Implement classes in your agent that inherit from these classes.</span></span> <span data-ttu-id="70c55-193">En la clase derivada de Factory del agente, invalide el método **CreateAgent** para que devuelva una nueva instancia de la clase del agente.</span><span class="sxs-lookup"><span data-stu-id="70c55-193">In the agent factory derived class, override the **CreateAgent** method so that it returns a new instance of your agent class.</span></span> 
  
<span data-ttu-id="70c55-194">Los argumentos que se pasan a los eventos pueden contener una instancia de la clase [EmailMessage](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Email.EmailMessage.aspx) , que se puede usar para cambiar las propiedades y el contenido del mensaje subyacente.</span><span class="sxs-lookup"><span data-stu-id="70c55-194">Arguments passed to the events can contain an instance of the [EmailMessage](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Email.EmailMessage.aspx) class, which you can use to change the properties and contents of the underlying message.</span></span> <span data-ttu-id="70c55-195">No toda la información de mensajes está disponible en cada evento.</span><span class="sxs-lookup"><span data-stu-id="70c55-195">Not all message information is available in each event.</span></span> <span data-ttu-id="70c55-196">Debe determinar qué agente y qué evento es el mejor para la tarea que desea realizar.</span><span class="sxs-lookup"><span data-stu-id="70c55-196">You must determine which agent and which event is best for the task you want to accomplish.</span></span> 
  
<span data-ttu-id="70c55-197">Los espacios de nombres siguientes contienen tipos que puede usar para leer, escribir y modificar mensajes en la canalización de transporte:</span><span class="sxs-lookup"><span data-stu-id="70c55-197">The following namespaces contain types that you can use to read, write, and modify messages in the transport pipeline:</span></span>
  
- [<span data-ttu-id="70c55-198">Microsoft. Exchange. Data. MIME. codificadores</span><span class="sxs-lookup"><span data-stu-id="70c55-198">Microsoft.Exchange.Data.Mime.Encoders</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Mime.Encoders.aspx)
    
- [<span data-ttu-id="70c55-199">Microsoft. Exchange. Data. ContentTypes. iCalendar</span><span class="sxs-lookup"><span data-stu-id="70c55-199">Microsoft.Exchange.Data.ContentTypes.iCalendar</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.ContentTypes.iCalendar.aspx)
    
- [<span data-ttu-id="70c55-200">Microsoft. Exchange. Data. MIME</span><span class="sxs-lookup"><span data-stu-id="70c55-200">Microsoft.Exchange.Data.Mime</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Mime.aspx)
    
- [<span data-ttu-id="70c55-201">Microsoft. Exchange. Data. ContentTypes. TNEF</span><span class="sxs-lookup"><span data-stu-id="70c55-201">Microsoft.Exchange.Data.ContentTypes.Tnef</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.ContentTypes.Tnef.aspx)
    
- [<span data-ttu-id="70c55-202">Microsoft. Exchange. Data. ContentTypes. vCard</span><span class="sxs-lookup"><span data-stu-id="70c55-202">Microsoft.Exchange.Data.ContentTypes.vCard</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.ContentTypes.vCard.aspx)
    
<span data-ttu-id="70c55-203">Después de escribir el agente de transporte, [Instale y administre el agente](https://technet.microsoft.com/library/bb125175%28v=exchg.150%29.aspx) mediante el shell de administración de Exchange.</span><span class="sxs-lookup"><span data-stu-id="70c55-203">After you write your transport agent, you [install and manage your agent](https://technet.microsoft.com/library/bb125175%28v=exchg.150%29.aspx) by using the Exchange Management Shell.</span></span> <span data-ttu-id="70c55-204">Para obtener más información, vea [crear agentes de transporte para Exchange 2013](creating-transport-agents-for-exchange-2013.md).</span><span class="sxs-lookup"><span data-stu-id="70c55-204">For more information, see [Creating transport agents for Exchange 2013](creating-transport-agents-for-exchange-2013.md).</span></span> 
  
## <a name="see-also"></a><span data-ttu-id="70c55-205">Vea también</span><span class="sxs-lookup"><span data-stu-id="70c55-205">See also</span></span>

- [<span data-ttu-id="70c55-206">Agentes de transporte en Exchange</span><span class="sxs-lookup"><span data-stu-id="70c55-206">Transport agents in Exchange</span></span>](transport-agents-in-exchange-2013.md)    
- [<span data-ttu-id="70c55-207">Referencia del agente de transporte para Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="70c55-207">Transport agent reference for Exchange 2013</span></span>](transport-agent-reference-for-exchange-2013.md)   
- [<span data-ttu-id="70c55-208">Leer y modificar mensajes en la canalización de transporte de Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="70c55-208">Reading and modifying messages in the Exchange 2013 transport pipeline</span></span>](reading-and-modifying-messages-in-the-exchange-2013-transport-pipeline.md)    
- [<span data-ttu-id="70c55-209">Novedades en Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="70c55-209">What's New in Exchange 2013</span></span>](https://technet.microsoft.com/library/jj150540%28v=exchg.150%29.aspx)   
- [<span data-ttu-id="70c55-210">Arquitectura de roles de servidor de Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="70c55-210">Exchange 2013 Server Role Architecture</span></span>](https://blogs.technet.com/b/exchange/archive/2013/01/23/exchange-2013-server-role-architecture.aspx)    
- [<span data-ttu-id="70c55-211">Servidores de buzones de correo y acceso de cliente</span><span class="sxs-lookup"><span data-stu-id="70c55-211">Mailbox and Client Access Servers</span></span>](https://technet.microsoft.com/library/jj150519%28v=exchg.150%29.aspx)   
- [<span data-ttu-id="70c55-212">Flujo de correo de Exchange Server 2013</span><span class="sxs-lookup"><span data-stu-id="70c55-212">Exchange Server 2013 Mail Flow</span></span>](https://technet.microsoft.com/library/aa996349.aspx)
- [<span data-ttu-id="70c55-213">Enrutamiento de correo de Exchange Server 2013</span><span class="sxs-lookup"><span data-stu-id="70c55-213">Exchange Server 2013 Mail Routing</span></span>](https://technet.microsoft.com/library/aa998825%28v=exchg.150%29.aspx)   
- [<span data-ttu-id="70c55-214">PowerShell de Exchange Server (Shell de administración de Exchange)</span><span class="sxs-lookup"><span data-stu-id="70c55-214">Exchange Server PowerShell (Exchange Management Shell)</span></span>](https://docs.microsoft.com/powershell/exchange/exchange-server/exchange-management-shell?view=exchange-ps)
    

