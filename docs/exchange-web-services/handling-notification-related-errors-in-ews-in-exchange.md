---
title: Tratamiento de errores relacionados con la notificación en EWS en Exchange
manager: sethgros
ms.date: 09/17/2015
ms.audience: Developer
localization_priority: Normal
ms.assetid: 519e1e52-5f1f-4f06-931e-8c20a586a563
description: Encuentre información acerca de cómo tratar los errores relacionados con la notificación en aplicaciones que desarrollar mediante el uso de la API administrada de EWS o EWS en Exchange.
ms.openlocfilehash: cb0c16a74e68b5a16ef0f2011f65b22675950f58
ms.sourcegitcommit: 34041125dc8c5f993b21cebfc4f8b72f0fd2cb6f
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/11/2018
ms.locfileid: "19763013"
---
# <a name="handling-notification-related-errors-in-ews-in-exchange"></a>Tratamiento de errores relacionados con la notificación en EWS en Exchange

Encuentre información acerca de cómo tratar los errores relacionados con la notificación en aplicaciones que desarrollar mediante el uso de la API administrada de EWS o EWS en Exchange.
  
Si la aplicación se suscribe a y obtiene notificaciones, debe controlar los errores relacionados con la notificación. Puede controlar estos errores en tiempo de ejecución, o mientras está desarrollando su aplicación de EWS.
  
**La tabla 1. Los errores relacionados con la notificación y cómo controlarlos**

|Error|Se produce al intentar...|Controlarla por...|
|:-----|:-----|:-----|
|**ErrorExceededConnectionCount** |Abrir una conexión para obtener eventos cuando la cuenta alcanza su límite de conexión de abrir conexiones de transmisión por secuencias. | <ul><li>Usar [suplantación](http://technet.microsoft.com/en-us/library/dd776119%28v=exchg.150%29.aspx) para [Abrir conexiones](how-to-maintain-affinity-between-group-of-subscriptions-and-mailbox-server.md#bk_throttling).</li><li>Uso de menos conexiones para obtener eventos. Maximizar el número de suscripciones en cada conexión [con afinidad](how-to-maintain-affinity-between-group-of-subscriptions-and-mailbox-server.md) y [colocar un máximo de 200 suscripción identificadores en el mismo grupo](how-to-maintain-affinity-between-group-of-subscriptions-and-mailbox-server.md#bk_howdoimaintain). A continuación, puede usar la misma conexión para recuperar los eventos para todo el grupo, reduciendo el número de conexiones necesarias.</li><li>  Cambiar el valor de la HangingConnectionLimit en el archivo web.config para Exchange local para invalidar el valor predeterminado de tres conexiones abiertas. Exchange Online tiene un valor predeterminado de HangingConnectionLimit de 10, lo cual no es configurable.</li></ul> |
|**ErrorExceededSubscriptionCount** |Crear demasiadas suscripciones. El [EwsMaxSubscriptions](http://msdn.microsoft.com/en-us/library/microsoft.exchange.data.directory.systemconfiguration.throttlingpolicy.ewsmaxsubscriptions%28v=exchg.150%29.aspx) parámetro de la directiva de limitación determina el número máximo de suscripciones que puede crear una cuenta. | <ul><li>Usar [suplantación](http://technet.microsoft.com/en-us/library/dd776119%28v=exchg.150%29.aspx) para [crear las suscripciones](how-to-maintain-affinity-between-group-of-subscriptions-and-mailbox-server.md#bk_throttling).</li><li>Reducir el número de suscripciones.</li></ul> |
|**ErrorInvalidSubscriptionRequest** |Creación de suscripciones para varios buzones de correo o varias carpetas desde una única solicitud.  |Creación de una suscripción para una única carpeta pública o un solo buzón en una única solicitud.| 
|**ErrorInvalidWatermark** |Obtener eventos mediante el uso de una marca de agua no válido.| <ul><li>El identificador de suscripción de comprobación devueltos en una respuesta anterior.</li><li>Asegurarse de que va a enviar el identificador de suscripción para el objeto **ExchangeService** correcto.</li><li>[Crear una nueva suscripción](handling-notification-related-errors-in-ews-in-exchange.md#bk_recover).</li></ul> |
|**ErrorMissedNotificationEvents** |Obtener eventos cuando se hayan perdido algunos eventos anteriores.   |Comparación de las propiedades de carpeta extendida **PR_LOCAL_COMMIT_TIME_MAX** (0x670a) y **PR_DELETED_COUNT_TOTAL** (0x670b) para determinar los cambios que no se revisó y [crear una nueva suscripción](handling-notification-related-errors-in-ews-in-exchange.md#bk_recover).  |
|**ErrorProxyRequestNotAllowed** |Suscribirse a eventos para un usuario en una solicitud por lotes cuyo buzón de correo se ha movido a otro sitio.   |Uso de [detección automática](autodiscover-for-exchange.md) para volver a descubrir la ExternalEwsUrl o EwsPartnerUrl y crear una nueva suscripción.  |
|**ErrorReadEventsFailed** |Obtener eventos de una suscripción a que no se encuentra.  |Uso de [detección automática](autodiscover-for-exchange.md) para volver a descubrir la ExternalEwsUrl o EwsPartnerUrl y crear una nueva suscripción.  |
|**ErrorServerBusy** | Superar los límites de [limitación](ews-throttling-in-exchange.md#bk_ThrottlingNotifications) . Tenga en cuenta de la limitación en cuanto a siguientes:<ul><li>El [EwsMaxSubscriptions](http://msdn.microsoft.com/en-us/library/microsoft.exchange.data.directory.systemconfiguration.throttlingpolicy.ewsmaxsubscriptions%28v=exchg.150%29.aspx) limitación límite identifica el número máximo de inserción, extracción o transmisión por secuencias de suscripciones de notificación que pueden estar activos al mismo tiempo. Éste es el valor de suscripciones de buzón de correo, no el número de suscripciones de carpeta individuales en una suscripción de buzón de correo. A partir de las versiones de buzón de correo de servicio 14.16.0135 y 14.15.0057.000, un buzón de correo alojado en Exchange Online o Exchange Online como parte de Office 365 puede tener un máximo de 20 suscripciones, un destino de Exchange 2013 locales y en buzón de correo puede tener hasta 5000 suscripciones.</li><li>El [EwsMaxConcurrency](http://msdn.microsoft.com/en-us/library/microsoft.exchange.data.directory.systemconfiguration.throttlingpolicy.ewsmaxconcurrency%28v=exchg.150%29.aspx) limitación límite identifica el número máximo de solicitudes activas para las conexiones que no sean transmisión por secuencias y tiene un valor predeterminado de 27.</li><li>El límite predeterminado para abrir conexiones de transmisión por secuencias es diez.</li></ul> |<ul><li>[Teniendo en cuenta las implicaciones de las directivas de limitación de peticiones relacionadas con la notificación](ews-throttling-in-exchange.md#bk_ThrottlingNotifications) y limitar el número de suscripciones activas y las conexiones activas de forma que no se limita a la aplicación.</li><li>Uso de menos conexiones para obtener eventos. Maximizar el número de suscripciones en cada conexión mediante la [colocación de un máximo de 200 suscripción identificadores en el mismo grupo](how-to-maintain-affinity-between-group-of-subscriptions-and-mailbox-server.md). A continuación, puede usar la misma conexión para recuperar los eventos para todo el grupo, reduciendo el número de conexiones necesarias.</li><li>Cambiar el valor de la HangingConnectionLimit en el archivo web.config para reemplazar el valor predeterminado de diez conexiones abiertas de transmisión por secuencias.</li></ul>|
|**ErrorSubscriptionNotFound** |Obtener eventos de una suscripción a que no se encuentra. Es posible que haya caducado la suscripción, es posible que se haya reiniciado el proceso de EWS, o se ha pasado una suscripción válida en. | <ul><li>Comprobar que se está usando el mismo identificador de suscripción que se devuelve en una respuesta anterior.</li><li>Asegurarse de que va a enviar el identificador de suscripción para el objeto **ExchangeService** correcto.</li><li> [Crear una nueva suscripción](handling-notification-related-errors-in-ews-in-exchange.md#bk_recover).</li></ul> |
|**[ServiceLocalException](http://msdn.microsoft.com/en-us/library/microsoft.exchange.webservices.data.serviceresponseexception%28v=exchg.80%29.aspx)** |Agregar una suscripción a una nueva carpeta mientras está abierta una conexión de suscripción en otra carpeta.  |Cambio de su suscripción para suscribirse a todas las carpetas del buzón de correo, en lugar de una carpeta específica.  |
|**[ServiceResponseException](http://msdn.microsoft.com/en-us/library/microsoft.exchange.webservices.data.serviceresponseexception%28v=exchg.80%29.aspx)** |Obtener eventos de una suscripción a que no se encuentra en el almacén de Exchange.  | <ul><li>Comprobar que se está usando el mismo identificador de suscripción que se devuelve en una respuesta anterior.</li><li>Asegurarse de que va a enviar el identificador de suscripción para el objeto **ExchangeService** correcto.</li></ul> |
   
## <a name="recovering-from-lost-subscriptions"></a>La recuperación a partir de las suscripciones perdidas
<a name="bk_recover"> </a>

Cuando una suscripción se pierda o ya no es accesible, es mejor crear una nueva suscripción y no incluir la marca de agua antigua en la nueva suscripción. Resubscribing con la marca de agua antiguo hace que un examen lineal para eventos, que resulta caro. En su lugar, crear una nueva suscripción y comparar propiedades de la carpeta para que busque cambia el contenido que se ha producido entre la suscripción pierden y la nueva suscripción. Las propiedades de carpeta extendida que se recomienda que compruebe son **PR_LOCAL_COMMIT_TIME_MAX** (0x670a0040) y **PR_DELETED_COUNT_TOTAL** (0x670b0003). Puede hacerlo mediante la [creación de una definición de propiedad extendida](properties-and-extended-properties-in-ews-in-exchange.md).
  
## <a name="see-also"></a>Ver también

- [Suscripciones de notificación de eventos de buzón de correo y EWS en Exchange](notification-subscriptions-mailbox-events-and-ews-in-exchange.md)
- [Notificaciones de secuencia acerca de los eventos de buzón de correo mediante el uso de EWS en Exchange](how-to-stream-notifications-about-mailbox-events-by-using-ews-in-exchange.md)    
- [Notificaciones sobre eventos de buzón de correo de extracción mediante el uso de EWS en Exchange](how-to-pull-notifications-about-mailbox-events-by-using-ews-in-exchange.md)    
- [Mantener la afinidad entre un grupo de suscripciones y el servidor de buzones de Exchange](how-to-maintain-affinity-between-group-of-subscriptions-and-mailbox-server.md)
    

