---
title: Autenticación y EWS en Exchange
manager: sethgros
ms.date: 03/9/2015
ms.audience: Developer
ms.assetid: 9a83df96-aca0-42b3-b8f5-2b414f0363f1
description: Encuentre información que le ayude a elegir el estándar de autenticación adecuado para su aplicación EWS que dirigida a Exchange.
localization_priority: Priority
ms.openlocfilehash: 0b35921f33b935f9a5a490e15d4e76d1a3e3c9dc
ms.sourcegitcommit: 843a2e030a94b12aec70c553ca4e06e39ac02d82
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 12/09/2020
ms.locfileid: "49603837"
---
# <a name="authentication-and-ews-in-exchange"></a><span data-ttu-id="4ad28-103">Autenticación y EWS en Exchange</span><span class="sxs-lookup"><span data-stu-id="4ad28-103">Authentication and EWS in Exchange</span></span>

<span data-ttu-id="4ad28-104">Encuentre información que le ayude a elegir el estándar de autenticación adecuado para su aplicación EWS que dirigida a Exchange.</span><span class="sxs-lookup"><span data-stu-id="4ad28-104">Find information to help you choose the right authentication standard for your EWS application that targets Exchange.</span></span>
  
<span data-ttu-id="4ad28-105">La autenticación es una parte clave de la aplicación de servicios Web Exchange (EWS).</span><span class="sxs-lookup"><span data-stu-id="4ad28-105">Authentication is a key part of your Exchange Web Services (EWS) application.</span></span> <span data-ttu-id="4ad28-106">Exchange Online, Exchange Online como parte de Office 365 y las versiones locales de Exchange a partir de Exchange Server 2013 admiten protocolos de autenticación web estándar para ayudar a proteger la comunicación entre la aplicación y el servidor de Exchange.</span><span class="sxs-lookup"><span data-stu-id="4ad28-106">Exchange Online, Exchange Online as part of Office 365, and on-premises versions of Exchange starting with Exchange Server 2013 support standard web authentication protocols to help secure the communication between your application and the Exchange server.</span></span>
  
<span data-ttu-id="4ad28-107">Si está dirigido a Exchange Online, el método de autenticación que elija debe usar HTTPS para cifrar las solicitudes y respuestas que envía la aplicación.</span><span class="sxs-lookup"><span data-stu-id="4ad28-107">If you're targeting Exchange Online, the authentication method that you choose must use HTTPS to encrypt the requests and responses that your application sends.</span></span> <span data-ttu-id="4ad28-108">Aunque se puede usar HTTP con servidores locales de Exchange, se recomienda usar HTTPS para cualquier solicitud que la aplicación envíe a un punto de conexión de EWS para ayudar a proteger la comunicación entre la aplicación y un servidor de Exchange.</span><span class="sxs-lookup"><span data-stu-id="4ad28-108">Although you can use HTTP with Exchange on-premises servers, we recommend that you use HTTPS for any request that your application sends to an EWS endpoint to help secure communication between your application and an Exchange server.</span></span>
  
<span data-ttu-id="4ad28-109">Exchange ofrece las siguientes opciones de autenticación entre las que elegir:</span><span class="sxs-lookup"><span data-stu-id="4ad28-109">Exchange provides the following authentication options for you to choose from:</span></span> 
  
- <span data-ttu-id="4ad28-110">OAuth 2.0 (solo Exchange Online)</span><span class="sxs-lookup"><span data-stu-id="4ad28-110">OAuth 2.0 (Exchange Online only)</span></span>
    
- <span data-ttu-id="4ad28-111">NTLM (solo Exchange local)</span><span class="sxs-lookup"><span data-stu-id="4ad28-111">NTLM (Exchange on-premises only)</span></span>
    
- <span data-ttu-id="4ad28-112">Básica (ya no se recomienda)</span><span class="sxs-lookup"><span data-stu-id="4ad28-112">Basic (no longer recommended)</span></span>
    
<span data-ttu-id="4ad28-113">El método de autenticación que elija dependerá de los requisitos de seguridad de su organización, si usa Exchange Online o Exchange local, y si tiene acceso a un proveedor de terceros que pueda emitir tokens de OAuth.</span><span class="sxs-lookup"><span data-stu-id="4ad28-113">The authentication method that you choose depends on the security requirements of your organization, whether you are using Exchange Online or Exchange on-premises, and whether you have access to a third-party provider that can issue OAuth tokens.</span></span> <span data-ttu-id="4ad28-114">Este artículo proporciona información que le ayudará a seleccionar el estándar de autenticación adecuado para su aplicación.</span><span class="sxs-lookup"><span data-stu-id="4ad28-114">This article provides information that will help you select the authentication standard that's right for your application.</span></span>
  
## <a name="oauth-authentication"></a><span data-ttu-id="4ad28-115">Autenticación OAuth</span><span class="sxs-lookup"><span data-stu-id="4ad28-115">OAuth authentication</span></span>

<span data-ttu-id="4ad28-116">Se recomienda que todas las aplicaciones nuevas usen el estándar de OAuth para conectarse a los servicios de Exchange Online.</span><span class="sxs-lookup"><span data-stu-id="4ad28-116">We recommend that all new applications use the OAuth standard to connect to Exchange Online services.</span></span> <span data-ttu-id="4ad28-117">La ventaja de la seguridad sobre la autenticación básica compensa el trabajo adicional que se necesita para implementar OAuth en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="4ad28-117">The advantage in security over basic authentication is worth the additional work required to implement OAuth in your application.</span></span> <span data-ttu-id="4ad28-118">No obstante, en el caso de los registros también se deben tener en cuenta algunas desventajas.</span><span class="sxs-lookup"><span data-stu-id="4ad28-118">For the record, however, there are also some disadvantages that you should be aware of.</span></span>
  
<span data-ttu-id="4ad28-119">**Tabla 1. Ventajas y desventajas del uso de OAuth**</span><span class="sxs-lookup"><span data-stu-id="4ad28-119">**Table 1. Advantages and disadvantages of using OAuth**</span></span>

|<span data-ttu-id="4ad28-120">**Ventajas**</span><span class="sxs-lookup"><span data-stu-id="4ad28-120">**Advantages**</span></span>|<span data-ttu-id="4ad28-121">**Desventajas**</span><span class="sxs-lookup"><span data-stu-id="4ad28-121">**Disadvantages**</span></span>|
|:-----|:-----|
| <span data-ttu-id="4ad28-122">OAuth es un protocolo de autenticación estándar de la industria.</span><span class="sxs-lookup"><span data-stu-id="4ad28-122">OAuth is an industry-standard authentication protocol.</span></span><br/><br/><span data-ttu-id="4ad28-123">La autenticación la administra un proveedor de terceros.</span><span class="sxs-lookup"><span data-stu-id="4ad28-123">Authentication is managed by a third-party provider.</span></span> <span data-ttu-id="4ad28-124">La aplicación no tiene que recopilar ni almacenar las credenciales de Exchange.</span><span class="sxs-lookup"><span data-stu-id="4ad28-124">Your application does not have to collect and store the Exchange credentials.</span></span><br/><br/><span data-ttu-id="4ad28-125">Menos preocupaciones para usted, ya que la aplicación solo recibe un token opaco del proveedor de autenticación. Por lo tanto, una vulneración de seguridad de la aplicación solo puede revelar el token, no las credenciales de Exchange del usuario.</span><span class="sxs-lookup"><span data-stu-id="4ad28-125">Fewer worries for you, because your application only receives an opaque token from the authentication provider; therefore, a security breach in your application can only expose the token, not the user's Exchange credentials.</span></span>  <br/> | <span data-ttu-id="4ad28-126">OAuth se basa en un proveedor de autenticación de terceros.</span><span class="sxs-lookup"><span data-stu-id="4ad28-126">OAuth relies on a third-party authentication provider.</span></span> <span data-ttu-id="4ad28-127">Esto puede suponer un coste adicional a su organización o a sus clientes.</span><span class="sxs-lookup"><span data-stu-id="4ad28-127">This can impose additional costs on your organization or your customers.</span></span><br/><br/><span data-ttu-id="4ad28-128">El estándar OAuth es más difícil de implementar que la autenticación básica.</span><span class="sxs-lookup"><span data-stu-id="4ad28-128">The OAuth standard is more difficult to implement than basic authentication.</span></span><br/><br/><span data-ttu-id="4ad28-129">Para implementar OAuth, debe integrar la aplicación tanto con el proveedor de autenticación como con el servidor de Exchange.</span><span class="sxs-lookup"><span data-stu-id="4ad28-129">To implement OAuth, you need to integrate your application with both the authentication provider and the Exchange server.</span></span>  <br/> |
   
<span data-ttu-id="4ad28-130">Para ayudar a minimizar las desventajas, puede usar la [Biblioteca de autenticación de Microsoft Azure AD](https://docs.microsoft.com/azure/active-directory/develop/active-directory-authentication-libraries) (ADAL) para autenticar a los usuarios en Active Directory Domain Services (AD DS) en la nube o localmente y luego obtener tokens de acceso para proteger llamadas a un servidor Exchange.</span><span class="sxs-lookup"><span data-stu-id="4ad28-130">To help minimize the disadvantages, you can use the [Microsoft Azure AD Authentication Library](https://docs.microsoft.com/azure/active-directory/develop/active-directory-authentication-libraries) (ADAL) to authenticate users to Active Directory Domain Services (AD DS) in the cloud or on-premises and then obtain access tokens for securing calls to an Exchange server.</span></span> <span data-ttu-id="4ad28-131">Exchange Online requiere tokens emitidos por el servicio Azure Active Directory, que es compatible con ADAL; sin embargo, puede utilizar cualquier biblioteca de terceros.</span><span class="sxs-lookup"><span data-stu-id="4ad28-131">Exchange Online requires tokens issued by the Azure Active Directory service, which is supported by the ADAL; however, you can use any third-party library.</span></span> 
  
<span data-ttu-id="4ad28-132">Para más información sobre el uso de la autenticación OAuth en la aplicación EWS, vea los recursos siguientes:</span><span class="sxs-lookup"><span data-stu-id="4ad28-132">To learn more about using OAuth authentication in your EWS application, see the following resources:</span></span>
  
- <span data-ttu-id="4ad28-133">[Prueba de Office 365](https://docs.microsoft.com/office/developer-program/office-365-developer-program), para configurar un servidor de Exchange y usarlo para probar la aplicación cliente.</span><span class="sxs-lookup"><span data-stu-id="4ad28-133">[Office 365 trial](https://docs.microsoft.com/office/developer-program/office-365-developer-program), to set up an Exchange server to use to test your client application.</span></span>
    
- [<span data-ttu-id="4ad28-134">Biblioteca de Autenticación de Azure AD para .NET</span><span class="sxs-lookup"><span data-stu-id="4ad28-134">Azure AD Authentication Library for .NET</span></span>](https://docs.microsoft.com/azure/active-directory/develop/active-directory-authentication-libraries)
    
- <span data-ttu-id="4ad28-135">[Configure Azure Active Directory](https://msdn.microsoft.com/library/055e1155-2d4d-4c85-b44e-d406872ba595%28Office.15%29.aspx), para permitir que la aplicación use los tokens de OAuth para la autenticación.</span><span class="sxs-lookup"><span data-stu-id="4ad28-135">[Configure Azure Active Directory](https://msdn.microsoft.com/library/055e1155-2d4d-4c85-b44e-d406872ba595%28Office.15%29.aspx), to enable your application to use OAuth tokens for authentication.</span></span>
    
- <span data-ttu-id="4ad28-136">Revise el código de ejemplo en [Autenticar una aplicación EWS utilizando OAuth](how-to-authenticate-an-ews-application-by-using-oauth.md) como ejemplo de código que puede estudiar.</span><span class="sxs-lookup"><span data-stu-id="4ad28-136">Review the sample code in [Authenticate an EWS application by using OAuth](how-to-authenticate-an-ews-application-by-using-oauth.md) for example code that you can study.</span></span> 
    
## <a name="ntlm-authentication"></a><span data-ttu-id="4ad28-137">Autenticación NTLM</span><span class="sxs-lookup"><span data-stu-id="4ad28-137">NTLM authentication</span></span>

<span data-ttu-id="4ad28-138">La autenticación NTLM solo está disponible para los servidores de Exchange local.</span><span class="sxs-lookup"><span data-stu-id="4ad28-138">NTLM authentication is only available for Exchange on-premises servers.</span></span> <span data-ttu-id="4ad28-139">En el caso de las aplicaciones que se ejecutan en el firewall corporativo, la integración entre la autenticación NTLM y .NET Framework proporciona un medio integrado para autenticar su aplicación.</span><span class="sxs-lookup"><span data-stu-id="4ad28-139">For applications that run inside the corporate firewall, integration between NTLM authentication and the .NET Framework provides a built-in means to authenticate your application.</span></span> 
  
<span data-ttu-id="4ad28-140">**Tabla 2. Ventajas y desventajas del uso de la autenticación NTLM**</span><span class="sxs-lookup"><span data-stu-id="4ad28-140">**Table 2. Advantages and disadvantages of using NTLM authentication**</span></span>

|<span data-ttu-id="4ad28-141">**Ventajas**</span><span class="sxs-lookup"><span data-stu-id="4ad28-141">**Advantages**</span></span>|<span data-ttu-id="4ad28-142">**Desventajas**</span><span class="sxs-lookup"><span data-stu-id="4ad28-142">**Disadvantages**</span></span>|
|:-----|:-----|
| <span data-ttu-id="4ad28-143">Está preparado para funcionar con su servidor Exchange.</span><span class="sxs-lookup"><span data-stu-id="4ad28-143">Works "out of the box" with your Exchange server.</span></span> <span data-ttu-id="4ad28-144">Puede configurar el acceso a los servicios de Exchange con un [cmdlet del Shell de administración de Exchange](how-to-control-access-to-ews-in-exchange.md).</span><span class="sxs-lookup"><span data-stu-id="4ad28-144">You can configure access to Exchange services by using an [Exchange Management Shell cmdlet](how-to-control-access-to-ews-in-exchange.md).</span></span><br/><br/><span data-ttu-id="4ad28-145">Usa el objeto [CredentialCache](https://msdn2.microsoft.com/library/615e0wsd) de .NET Framework para obtener automáticamente las credenciales del usuario.</span><span class="sxs-lookup"><span data-stu-id="4ad28-145">Uses the .NET Framework [CredentialCache](https://msdn2.microsoft.com/library/615e0wsd) object to automatically get the user's credentials.</span></span><br/><br/><span data-ttu-id="4ad28-146">Hay [ejemplos de código disponibles](https://code.msdn.microsoft.com/office/Exchange-2013-101-Code-3c38582c) que utilizan las credenciales del usuario que inició sesión para la autenticación en un servidor de Exchange local.</span><span class="sxs-lookup"><span data-stu-id="4ad28-146">[Code samples are available](https://code.msdn.microsoft.com/office/Exchange-2013-101-Code-3c38582c) that use the logged on user's credentials for authentication to an on-premises Exchange server.</span></span>  <br/> | <span data-ttu-id="4ad28-147">Los usuarios tienen que haber iniciado sesión en un dominio para usar la autenticación NTLM.</span><span class="sxs-lookup"><span data-stu-id="4ad28-147">Users must be logged on to a domain to use NTLM authentication.</span></span><br/><br/><span data-ttu-id="4ad28-148">Puede resultar difícil acceder a las cuentas de correo electrónico que no están asociadas a la cuenta de dominio del usuario.</span><span class="sxs-lookup"><span data-stu-id="4ad28-148">It can be difficult to access email accounts that are not associated with the user's domain account.</span></span><br/><br/><span data-ttu-id="4ad28-149">Las aplicaciones de servicio deben tener una cuenta de dominio para poder aprovechar la autenticación NTLM.</span><span class="sxs-lookup"><span data-stu-id="4ad28-149">Service applications must have a domain account to take advantage of NTLM authentication.</span></span>  <br/> |

   
## <a name="basic-authentication"></a><span data-ttu-id="4ad28-150">Autenticación básica</span><span class="sxs-lookup"><span data-stu-id="4ad28-150">Basic authentication</span></span>

<span data-ttu-id="4ad28-151">La autenticación básica proporciona un nivel de seguridad bueno y básico para la aplicación cliente.</span><span class="sxs-lookup"><span data-stu-id="4ad28-151">Basic authentication provides a, well, basic level of security for your client application.</span></span> <span data-ttu-id="4ad28-152">Se recomienda que todas las aplicaciones nuevas usen el protocolo NTLM o el protocolo OAuth para la autenticación; sin embargo, la autenticación básica puede ser la elección adecuada para la aplicación en algunas circunstancias.</span><span class="sxs-lookup"><span data-stu-id="4ad28-152">We do recommend that all new applications use either NTLM or the OAuth protocol for authentication; however, basic authentication can be the correct choice for your application in some circumstances.</span></span>
  
<span data-ttu-id="4ad28-153">**Tabla 3. Ventajas y desventajas del uso de la autenticación básica**</span><span class="sxs-lookup"><span data-stu-id="4ad28-153">**Table 3. Advantages and disadvantages of using basic authentication**</span></span>

|<span data-ttu-id="4ad28-154">**Ventajas**</span><span class="sxs-lookup"><span data-stu-id="4ad28-154">**Advantages**</span></span>|<span data-ttu-id="4ad28-155">**Desventajas**</span><span class="sxs-lookup"><span data-stu-id="4ad28-155">**Disadvantages**</span></span>|
|:-----|:-----|
| <span data-ttu-id="4ad28-156">Está preparado para funcionar con su servidor Exchange.</span><span class="sxs-lookup"><span data-stu-id="4ad28-156">Works "out of the box" with your Exchange server.</span></span> <span data-ttu-id="4ad28-157">Puede configurar el acceso a los servicios de Exchange con un [cmdlet del Shell de administración de Exchange](how-to-control-access-to-ews-in-exchange.md).</span><span class="sxs-lookup"><span data-stu-id="4ad28-157">You can configure access to Exchange services by using an [Exchange Management Shell cmdlet](how-to-control-access-to-ews-in-exchange.md).</span></span><br/><br/><span data-ttu-id="4ad28-158">Las aplicaciones de Windows pueden usar las credenciales predeterminadas del usuario que ha iniciado sesión.</span><span class="sxs-lookup"><span data-stu-id="4ad28-158">Windows applications can use the logged on user's default credentials.</span></span><br/><br/><span data-ttu-id="4ad28-159">Hay [disponibles varios ejemplos de código](https://code.msdn.microsoft.com/office/Exchange-2013-101-Code-3c38582c) que muestran cómo se llama a EWS con la autenticación básica.</span><span class="sxs-lookup"><span data-stu-id="4ad28-159">Many [code samples are available](https://code.msdn.microsoft.com/office/Exchange-2013-101-Code-3c38582c) that show you how to call EWS using basic authentication.</span></span>  <br/> | <span data-ttu-id="4ad28-160">Requiere que la aplicación recopile y almacene las credenciales del usuario.</span><span class="sxs-lookup"><span data-stu-id="4ad28-160">Requires your application to collect and store the user's credentials.</span></span><br/><br/><span data-ttu-id="4ad28-161">Debe desactivar la autenticación NTLM si quiere obligar a todos los usuarios a usar la autenticación básica.</span><span class="sxs-lookup"><span data-stu-id="4ad28-161">You have to turn off NTLM authentication if you want to force all users to use basic authentication.</span></span><br/><br/><span data-ttu-id="4ad28-162">Si se produce una vulneración en la seguridad de la aplicación, puede mostrar la dirección de correo electrónico y la contraseña del usuario al atacante.</span><span class="sxs-lookup"><span data-stu-id="4ad28-162">If a security breach occurs in your application, it can expose the user's email address and password to the attacker.</span></span>  <br/> |
   
<span data-ttu-id="4ad28-163">Debe decidir si la autenticación básica cumple con los requisitos de seguridad de su organización y clientes.</span><span class="sxs-lookup"><span data-stu-id="4ad28-163">You need to decide if basic authentication meets the security requirements of your organization and customers.</span></span> <span data-ttu-id="4ad28-164">La autenticación básica puede ser la opción adecuada si quiere evitar tareas de configuración extensas, por ejemplo, para aplicaciones de demostración o de pruebas simples.</span><span class="sxs-lookup"><span data-stu-id="4ad28-164">Basic authentication can be the right choice if you want to avoid extensive setup tasks, for example for simple test or demonstration applications.</span></span>

> [!NOTE]
> <span data-ttu-id="4ad28-165">La autenticación básica ya no es compatible con EWS para conectarse a Exchange Online.</span><span class="sxs-lookup"><span data-stu-id="4ad28-165">Basic authentication is no longer supported for EWS to connect to Exchange Online.</span></span> <span data-ttu-id="4ad28-166">Use la autenticación OAuth en todas las aplicaciones de EWS nuevas o existentes para conectarse a Exchange Online.</span><span class="sxs-lookup"><span data-stu-id="4ad28-166">Use OAuth authentication in all your new or existing EWS applications to connect to Exchange Online.</span></span> <span data-ttu-id="4ad28-167">La autenticación OAuth para EWS solo está disponible en Exchange como parte de Microsoft 365.</span><span class="sxs-lookup"><span data-stu-id="4ad28-167">OAuth authentication for EWS is only available in Exchange Online as part of Microsoft 365.</span></span> <span data-ttu-id="4ad28-168">Las aplicaciones de EWS que usan OAuth deben registrarse primero con Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="4ad28-168">EWS applications that use OAuth must be registered with Azure Active Directory first.</span></span>
  
## <a name="see-also"></a><span data-ttu-id="4ad28-169">Consulte también</span><span class="sxs-lookup"><span data-stu-id="4ad28-169">See also</span></span>
- [<span data-ttu-id="4ad28-170">Autenticar una aplicación EWS mediante OAuth</span><span class="sxs-lookup"><span data-stu-id="4ad28-170">Authenticate an EWS application by using OAuth</span></span>](how-to-authenticate-an-ews-application-by-using-oauth.md)
- [<span data-ttu-id="4ad28-171">Empezar a usar los servicios web de Exchange</span><span class="sxs-lookup"><span data-stu-id="4ad28-171">Start using web services in Exchange</span></span>](start-using-web-services-in-exchange.md)   
- [<span data-ttu-id="4ad28-172">Agregar el inicio de sesión a la aplicación web con Microsoft Azure AD</span><span class="sxs-lookup"><span data-stu-id="4ad28-172">Adding Sign-On to Your Web Application Using Microsoft Azure AD</span></span>](https://msdn.microsoft.com/library/055e1155-2d4d-4c85-b44e-d406872ba595%28Office.15%29.aspx)    
- [<span data-ttu-id="4ad28-173">Controlar el acceso a EWS en Exchange</span><span class="sxs-lookup"><span data-stu-id="4ad28-173">Control access to EWS in Exchange</span></span>](how-to-control-access-to-ews-in-exchange.md)    
- <span data-ttu-id="4ad28-174">[Controlar el acceso de la aplicación de cliente a EWS en Exchange](controlling-client-application-access-to-ews-in-exchange.md).</span><span class="sxs-lookup"><span data-stu-id="4ad28-174">[Controlling client application access to EWS in Exchange](controlling-client-application-access-to-ews-in-exchange.md)</span></span>   
- [<span data-ttu-id="4ad28-175">Tipos de notificaciones y token admitidos</span><span class="sxs-lookup"><span data-stu-id="4ad28-175">Supported token and claim types</span></span>](https://msdn.microsoft.com/library/9d35e4bc-7b72-49d1-b723-5464eee6be2c%28Office.15%29.aspx)
 
