---
title: Actualizar la información de configuración mediante la detección automática
manager: sethgros
ms.date: 09/17/2015
ms.audience: Developer
localization_priority: Normal
ms.assetid: c2f3c6a5-e8ea-4375-b41a-686a6f238d33
description: Obtenga información sobre cómo y cuándo actualizar la información de configuración de su conexión de Exchange mediante detección automática.
ms.openlocfilehash: b9a4264d150d09b0e143e0bf7365af351bb2ef44
ms.sourcegitcommit: 88ec988f2bb67c1866d06b361615f3674a24e795
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/03/2020
ms.locfileid: "44527757"
---
# <a name="refresh-configuration-information-by-using-autodiscover"></a><span data-ttu-id="ccc74-103">Actualizar la información de configuración mediante la detección automática</span><span class="sxs-lookup"><span data-stu-id="ccc74-103">Refresh configuration information by using Autodiscover</span></span>

<span data-ttu-id="ccc74-104">Obtenga información sobre cómo y cuándo actualizar la información de configuración de su conexión de Exchange mediante detección automática.</span><span class="sxs-lookup"><span data-stu-id="ccc74-104">Learn how and when to refresh configuration information for your Exchange connection by using Autodiscover.</span></span>
  
<span data-ttu-id="ccc74-105">Cuando la aplicación de EWS se ejecuta por primera vez, detección automática proporciona una buena forma de recopilar la información necesaria para conectarse al buzón de correo de Exchange del usuario.</span><span class="sxs-lookup"><span data-stu-id="ccc74-105">When your EWS application runs for the first time, Autodiscover provides a great way for you to collect the information you need in order to connect to your user's Exchange mailbox.</span></span> <span data-ttu-id="ccc74-106">Pero la detección automática no es solo para el primer uso.</span><span class="sxs-lookup"><span data-stu-id="ccc74-106">But Autodiscover isn't just for first time use.</span></span> <span data-ttu-id="ccc74-107">El uso de detección automática con regularidad puede ayudarle a mantener la conexión de la aplicación, ya que permite que responda a los cambios en la implementación de Exchange.</span><span class="sxs-lookup"><span data-stu-id="ccc74-107">Using Autodiscover on a regular basis can help keep your application connected by enabling it to respond to changes in the Exchange deployment.</span></span>
  
## <a name="cache-autodiscover-endpoint-and-ews-settings"></a><span data-ttu-id="ccc74-108">Configuración de EWS y extremos de detección automática de caché</span><span class="sxs-lookup"><span data-stu-id="ccc74-108">Cache Autodiscover endpoint and EWS settings</span></span>
<span data-ttu-id="ccc74-109"><a name="bk_CacheSettings"> </a></span><span class="sxs-lookup"><span data-stu-id="ccc74-109"><a name="bk_CacheSettings"> </a></span></span>

<span data-ttu-id="ccc74-110">Aunque le recomendamos que use la detección automática con regularidad, la frecuencia con la que lo use requiere alguna consideración.</span><span class="sxs-lookup"><span data-stu-id="ccc74-110">While we recommend that you use Autodiscover regularly, how regularly you use it requires some consideration.</span></span> <span data-ttu-id="ccc74-111">Idealmente, puede equilibrar la respuesta rápidamente a los cambios en el entorno para generar demasiado tráfico de red innecesario.</span><span class="sxs-lookup"><span data-stu-id="ccc74-111">Ideally you can balance responding quickly to changes in the environment against generating too much unnecessary network traffic.</span></span> <span data-ttu-id="ccc74-112">Cuando la aplicación obtenga una respuesta de detección automática correcta por primera vez, debe guardar la información siguiente para no tener que repetir el proceso de detección automática cada vez que envíe una solicitud de EWS.</span><span class="sxs-lookup"><span data-stu-id="ccc74-112">When your application gets a successful Autodiscover response for the first time, you should save the following information so that you do not have to repeat the Autodiscover process every time you send an EWS request.</span></span>
  
<span data-ttu-id="ccc74-113">**Tabla 1. Información para almacenar en caché las solicitudes de detección automática**</span><span class="sxs-lookup"><span data-stu-id="ccc74-113">**Table 1. Information to cache for Autodiscover requests**</span></span>

|<span data-ttu-id="ccc74-114">**Establecer para la memoria caché**</span><span class="sxs-lookup"><span data-stu-id="ccc74-114">**Setting to cache**</span></span>|<span data-ttu-id="ccc74-115">**Válido para...**</span><span class="sxs-lookup"><span data-stu-id="ccc74-115">**Valid for…**</span></span>|<span data-ttu-id="ccc74-116">**Detalles**</span><span class="sxs-lookup"><span data-stu-id="ccc74-116">**Details**</span></span>|
|:-----|:-----|:-----|
|<span data-ttu-id="ccc74-117">Punto de conexión de detección automática</span><span class="sxs-lookup"><span data-stu-id="ccc74-117">Autodiscover endpoint</span></span>  <br/> |<span data-ttu-id="ccc74-118">Siempre que funcione</span><span class="sxs-lookup"><span data-stu-id="ccc74-118">As long as it works</span></span>  <br/> |<span data-ttu-id="ccc74-119">Al guardar el punto de conexión de detección automática que devolvió una respuesta correcta, no tiene que repetir el proceso de [generar una lista de extremos de detección automática](how-to-generate-a-list-of-autodiscover-endpoints.md) y probarlos hasta que obtenga una respuesta correcta.</span><span class="sxs-lookup"><span data-stu-id="ccc74-119">When you save the Autodiscover endpoint that returned a successful response, you do not have to repeat the process of [generating a list of Autodiscover endpoints](how-to-generate-a-list-of-autodiscover-endpoints.md) and trying them until you get a successful response.</span></span><br/><br/> <span data-ttu-id="ccc74-120">**Nota**: la API administrada de EWS no admite el almacenamiento en caché del punto de conexión de detección automática.</span><span class="sxs-lookup"><span data-stu-id="ccc74-120">**NOTE**: The EWS Managed API does not support caching the Autodiscover endpoint.</span></span>           |
|<span data-ttu-id="ccc74-121">Dirección URL de EWS y cualquier otra configuración recuperada de la respuesta de detección automática</span><span class="sxs-lookup"><span data-stu-id="ccc74-121">EWS URL and any other settings retrieved from the Autodiscover response</span></span>  <br/> |<span data-ttu-id="ccc74-122">Una semana</span><span class="sxs-lookup"><span data-stu-id="ccc74-122">One week</span></span>  <br/> |<span data-ttu-id="ccc74-123">Al guardar la dirección URL de EWS y otras configuraciones relacionadas, no es necesario [enviar una nueva solicitud de detección automática](how-to-get-user-settings-from-exchange-by-using-autodiscover.md) para cada solicitud de EWS o si se reinicia la aplicación.</span><span class="sxs-lookup"><span data-stu-id="ccc74-123">By saving the EWS URL and other related settings, you do not have to [send a new Autodiscover request](how-to-get-user-settings-from-exchange-by-using-autodiscover.md) for each EWS request or if your application restarts.</span></span> <span data-ttu-id="ccc74-124">Sin embargo, incluso si una dirección URL de EWS funciona para su usuario, puede que esté disponible un servidor que sea más óptimo.</span><span class="sxs-lookup"><span data-stu-id="ccc74-124">However, even if an EWS URL works for your user, a server might be available that is more optimal.</span></span><br/><br/> <span data-ttu-id="ccc74-125">Por ejemplo, es posible que el buzón del usuario se haya movido a un nuevo servidor de buzones de correo, lo que resulta en un nuevo punto de conexión de EWS preferido.</span><span class="sxs-lookup"><span data-stu-id="ccc74-125">For example, the user's mailbox might have moved to a new mailbox server, resulting in a new preferred EWS endpoint.</span></span> <span data-ttu-id="ccc74-126">Le recomendamos que actualice la configuración de usuario mediante el envío de una nueva solicitud de detección automática después de que haya transcurrido una semana desde la última solicitud de detección automática.</span><span class="sxs-lookup"><span data-stu-id="ccc74-126">We recommend that you refresh your user settings by sending a new Autodiscover request after one week has passed since your last Autodiscover request.</span></span> <span data-ttu-id="ccc74-127">Esta vez se puede ajustar para cumplir los requisitos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="ccc74-127">This time can be adjusted to meet the requirements of your application.</span></span>  <br/> |
   
## <a name="refresh-cached-configuration-information"></a><span data-ttu-id="ccc74-128">Actualizar la información de configuración almacenada en caché</span><span class="sxs-lookup"><span data-stu-id="ccc74-128">Refresh cached configuration information</span></span>
<span data-ttu-id="ccc74-129"><a name="bk_RefreshConfig"> </a></span><span class="sxs-lookup"><span data-stu-id="ccc74-129"><a name="bk_RefreshConfig"> </a></span></span>

<span data-ttu-id="ccc74-130">Ahora que tiene la información almacenada en la caché, veamos cómo puede mantener esa memoria caché actualizada.</span><span class="sxs-lookup"><span data-stu-id="ccc74-130">Now that you have the information cached, let's examine how you can keep that cache fresh.</span></span> <span data-ttu-id="ccc74-131">Le recomendamos que actualice la información almacenada en caché cuando:</span><span class="sxs-lookup"><span data-stu-id="ccc74-131">We recommend that you refresh your cached information when:</span></span>
  
- <span data-ttu-id="ccc74-132">El período de validez de la información expira.</span><span class="sxs-lookup"><span data-stu-id="ccc74-132">The information's validity period expires.</span></span>
    
- <span data-ttu-id="ccc74-133">Se produce un [error relacionado con la conexión](#bk_ConnectionErrors) y la información almacenada en caché se actualiza por hora hace una hora.</span><span class="sxs-lookup"><span data-stu-id="ccc74-133">A [Connection-related error](#bk_ConnectionErrors) occurs AND your cached information was last refreshed over an hour ago.</span></span>
    
<span data-ttu-id="ccc74-134">Para actualizar la información almacenada en caché, envíe una solicitud de detección automática a un extremo de detección automática en caché y haga lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="ccc74-134">To refresh your cached information, send an Autodiscover request to a cached Autodiscover endpoint, and do the following:</span></span>
  
- <span data-ttu-id="ccc74-135">Si la solicitud se realiza correctamente, compare el extremo de EWS en la respuesta con el extremo de EWS en caché y haga lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="ccc74-135">If the request succeeds, compare the EWS endpoint in the response with the cached EWS endpoint, and do the following:</span></span>
    
  - <span data-ttu-id="ccc74-136">Si son diferentes, use el nuevo punto de conexión de EWS.</span><span class="sxs-lookup"><span data-stu-id="ccc74-136">If they are different, use the new EWS endpoint.</span></span> <span data-ttu-id="ccc74-137">Si está actualizando para recuperarse de un error, vuelva a intentar la solicitud con error con el nuevo punto de conexión.</span><span class="sxs-lookup"><span data-stu-id="ccc74-137">If you're refreshing to recover from an error, retry the failed request with the new endpoint.</span></span>
    
  - <span data-ttu-id="ccc74-138">Si son iguales, continúe usando el punto de conexión de EWS original.</span><span class="sxs-lookup"><span data-stu-id="ccc74-138">If they are the same, continue to use the original EWS endpoint.</span></span> <span data-ttu-id="ccc74-139">Si está actualizando para recuperarse de un error, controle el error según corresponda.</span><span class="sxs-lookup"><span data-stu-id="ccc74-139">If you're refreshing to recover from an error, handle the error as appropriate.</span></span>
    
- <span data-ttu-id="ccc74-140">Si se produce un error en la solicitud, inicie el [proceso de detección automática](autodiscover-for-exchange.md) desde el principio.</span><span class="sxs-lookup"><span data-stu-id="ccc74-140">If the request fails, start the [Autodiscover process](autodiscover-for-exchange.md) from the beginning.</span></span> <span data-ttu-id="ccc74-141">Después de obtener una respuesta correcta, reemplace el punto de conexión de detección automática en caché con el extremo de detección automática que se realizó correctamente y continúe usando el nuevo punto de conexión de EWS.</span><span class="sxs-lookup"><span data-stu-id="ccc74-141">After you get a successful response, replace the cached Autodiscover endpoint with the Autodiscover endpoint that succeeded and continue to use the new EWS endpoint.</span></span> <span data-ttu-id="ccc74-142">Si no obtiene una respuesta correcta, continúe usando el punto de conexión de detección automática original y el punto de conexión de EWS.</span><span class="sxs-lookup"><span data-stu-id="ccc74-142">If you do not get a successful response, continue to use the original Autodiscover endpoint and EWS endpoint.</span></span> <span data-ttu-id="ccc74-143">Si está actualizando para recuperarse de un error, controle el error según corresponda.</span><span class="sxs-lookup"><span data-stu-id="ccc74-143">If you're refreshing to recover from an error, handle the error as appropriate.</span></span> 
    
<span data-ttu-id="ccc74-144">La siguiente figura proporciona una representación visual de este proceso.</span><span class="sxs-lookup"><span data-stu-id="ccc74-144">The following figure provides a visual representation of this process.</span></span>
  
<span data-ttu-id="ccc74-145">**Figura 1. Proceso para actualizar la información de configuración mediante la detección automática**</span><span class="sxs-lookup"><span data-stu-id="ccc74-145">**Figure 1. Process for refreshing configuration information by using Autodiscover**</span></span>

![Diagrama esquemático que muestra cómo la detección automática actualiza la información de configuración.](media/Ex15_Autodiscover_Refresh_Flowchart.png)
  
### <a name="connection-related-errors"></a><span data-ttu-id="ccc74-147">Errores relacionados con la conexión</span><span class="sxs-lookup"><span data-stu-id="ccc74-147">Connection-related errors</span></span>
<span data-ttu-id="ccc74-148"><a name="bk_ConnectionErrors"> </a></span><span class="sxs-lookup"><span data-stu-id="ccc74-148"><a name="bk_ConnectionErrors"> </a></span></span>

<span data-ttu-id="ccc74-149">La actualización de la información de configuración almacenada en caché puede ayudar con algunos errores, pero no todos.</span><span class="sxs-lookup"><span data-stu-id="ccc74-149">Refreshing your cached configuration information can help with some errors, but not all.</span></span> 
  
<span data-ttu-id="ccc74-150">**Tabla 2. Errores corregidos al actualizar la caché**</span><span class="sxs-lookup"><span data-stu-id="ccc74-150">**Table 2. Errors addressed by refreshing your cache**</span></span>

|<span data-ttu-id="ccc74-151">**Error**</span><span class="sxs-lookup"><span data-stu-id="ccc74-151">**Error**</span></span>|<span data-ttu-id="ccc74-152">**Implementación de la API administrada de EWS**</span><span class="sxs-lookup"><span data-stu-id="ccc74-152">**EWS Managed API implementation**</span></span>|<span data-ttu-id="ccc74-153">**Notas**</span><span class="sxs-lookup"><span data-stu-id="ccc74-153">**Notes**</span></span>|
|:-----|:-----|:-----|
|<span data-ttu-id="ccc74-154">Errores de error de red o de DNS</span><span class="sxs-lookup"><span data-stu-id="ccc74-154">DNS or network failure errors</span></span><br/><br/> <span data-ttu-id="ccc74-155">Ejemplo: no se pudo encontrar el nombre de host.</span><span class="sxs-lookup"><span data-stu-id="ccc74-155">Example: Host name could not be found.</span></span>  <br/> |[<span data-ttu-id="ccc74-156">ServiceRemoteException</span><span class="sxs-lookup"><span data-stu-id="ccc74-156">ServiceRemoteException</span></span>](https://docs.microsoft.com/dotnet/api/microsoft.exchange.webservices.data.serviceremoteexception?view=exchange-ews-api) <br/> |<span data-ttu-id="ccc74-157">Cualquier error que indique que no se pudo encontrar o no se pudo tener acceso al servidor se puede resolver probando la detección automática.</span><span class="sxs-lookup"><span data-stu-id="ccc74-157">Any error that indicates that the server could not be found or could not be reached might be resolved by trying Autodiscover.</span></span> <br/><br/> <span data-ttu-id="ccc74-158">Es posible que el punto de conexión de EWS en caché ya no sea válido, y que la detección automática pueda apuntarle al nuevo servidor.</span><span class="sxs-lookup"><span data-stu-id="ccc74-158">Your cached EWS endpoint might no longer be valid, and Autodiscover might be able to point you to the new server.</span></span>  <br/> |
|<span data-ttu-id="ccc74-159">Errores de Estado HTTP</span><span class="sxs-lookup"><span data-stu-id="ccc74-159">HTTP status errors</span></span><br/><br/> <span data-ttu-id="ccc74-160">Ejemplo: servicio de 503 no disponible</span><span class="sxs-lookup"><span data-stu-id="ccc74-160">Example: 503 Service Unavailable</span></span>  <br/> |[<span data-ttu-id="ccc74-161">ServiceRemoteException</span><span class="sxs-lookup"><span data-stu-id="ccc74-161">ServiceRemoteException</span></span>](https://docs.microsoft.com/dotnet/api/microsoft.exchange.webservices.data.serviceremoteexception?view=exchange-ews-api) <br/> |<span data-ttu-id="ccc74-162">Los errores de Estado HTTP pueden ocurrir por muchos motivos diferentes.</span><span class="sxs-lookup"><span data-stu-id="ccc74-162">HTTP status errors can happen for many different reasons.</span></span><br/><br/> <span data-ttu-id="ccc74-163">Sin embargo, es una buena idea probar la detección automática para ver si hay un nuevo punto de conexión de EWS disponible para el usuario.</span><span class="sxs-lookup"><span data-stu-id="ccc74-163">However, it's a good idea to try Autodiscover to see if a new EWS endpoint is available for the user.</span></span>  <br/> |
|<span data-ttu-id="ccc74-164">Códigos de error de EWS</span><span class="sxs-lookup"><span data-stu-id="ccc74-164">EWS error codes</span></span> <br/><br/> <span data-ttu-id="ccc74-165">Ejemplo: ErrorConnectionFailed</span><span class="sxs-lookup"><span data-stu-id="ccc74-165">Example: ErrorConnectionFailed</span></span> <br/> |[<span data-ttu-id="ccc74-166">ResponseCodeType</span><span class="sxs-lookup"><span data-stu-id="ccc74-166">ResponseCodeType</span></span>](../web-service-reference/responsecode.md) <br/> | <span data-ttu-id="ccc74-167">La mayoría de los códigos de error de EWS no garantizan la actualización de la información de configuración.</span><span class="sxs-lookup"><span data-stu-id="ccc74-167">Most EWS error codes don't warrant refreshing your configuration information.</span></span><br/><br/> <span data-ttu-id="ccc74-168">Sin embargo, el siguiente indica específicamente que la información de configuración debe actualizarse:</span><span class="sxs-lookup"><span data-stu-id="ccc74-168">However, the following specifically indicate that the configuration information needs to be updated:</span></span><br/><span data-ttu-id="ccc74-169">- **ErrorConnectionFailed**</span><span class="sxs-lookup"><span data-stu-id="ccc74-169">- **ErrorConnectionFailed**</span></span> <br/><span data-ttu-id="ccc74-170">- **ErrorMailboxMoveInProgress**</span><span class="sxs-lookup"><span data-stu-id="ccc74-170">- **ErrorMailboxMoveInProgress**</span></span> <br/> |
   
## <a name="see-also"></a><span data-ttu-id="ccc74-171">Vea también</span><span class="sxs-lookup"><span data-stu-id="ccc74-171">See also</span></span>

- [<span data-ttu-id="ccc74-172">Detección automática en Exchange</span><span class="sxs-lookup"><span data-stu-id="ccc74-172">Autodiscover for Exchange</span></span>](autodiscover-for-exchange.md)  
- [<span data-ttu-id="ccc74-173">Generar una lista de extremos de detección automática</span><span class="sxs-lookup"><span data-stu-id="ccc74-173">Generate a list of Autodiscover endpoints</span></span>](how-to-generate-a-list-of-autodiscover-endpoints.md)   
- [<span data-ttu-id="ccc74-174">Obtener la configuración de usuario de Exchange mediante el uso de detección automática</span><span class="sxs-lookup"><span data-stu-id="ccc74-174">Get user settings from Exchange by using Autodiscover</span></span>](how-to-get-user-settings-from-exchange-by-using-autodiscover.md)
    

