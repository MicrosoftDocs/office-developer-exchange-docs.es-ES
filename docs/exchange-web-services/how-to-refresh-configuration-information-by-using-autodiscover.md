---
title: Actualizar la información de configuración mediante la detección automática
manager: sethgros
ms.date: 09/17/2015
ms.audience: Developer
localization_priority: Normal
ms.assetid: c2f3c6a5-e8ea-4375-b41a-686a6f238d33
description: Obtenga información sobre cómo y cuándo para actualizar la información de configuración de la conexión de Exchange mediante el uso de detección automática.
ms.openlocfilehash: 764909fbe5e4cd62ba6e05bfa4b2c417ef41a9ae
ms.sourcegitcommit: 9061fcf40c218ebe88911783f357b7df278846db
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/28/2018
ms.locfileid: "21353059"
---
# <a name="refresh-configuration-information-by-using-autodiscover"></a><span data-ttu-id="0f147-103">Actualizar la información de configuración mediante la detección automática</span><span class="sxs-lookup"><span data-stu-id="0f147-103">Refresh configuration information by using Autodiscover</span></span>

<span data-ttu-id="0f147-104">Obtenga información sobre cómo y cuándo para actualizar la información de configuración de la conexión de Exchange mediante el uso de detección automática.</span><span class="sxs-lookup"><span data-stu-id="0f147-104">Learn how and when to refresh configuration information for your Exchange connection by using Autodiscover.</span></span>
  
<span data-ttu-id="0f147-105">Cuando se ejecuta la aplicación de EWS por primera vez, detección automática proporciona un método excelente para recopilar la información que necesita para poder conectarse al buzón de Exchange del usuario.</span><span class="sxs-lookup"><span data-stu-id="0f147-105">When your EWS application runs for the first time, Autodiscover provides a great way for you to collect the information you need in order to connect to your user's Exchange mailbox.</span></span> <span data-ttu-id="0f147-106">Pero detección automática no es sólo para el primer uso.</span><span class="sxs-lookup"><span data-stu-id="0f147-106">But Autodiscover isn't just for first time use.</span></span> <span data-ttu-id="0f147-107">Uso de detección automática de forma regular puede ayudar a mantener la aplicación conectada mediante la habilitación de él para responder a los cambios en la implementación de Exchange.</span><span class="sxs-lookup"><span data-stu-id="0f147-107">Using Autodiscover on a regular basis can help keep your application connected by enabling it to respond to changes in the Exchange deployment.</span></span>
  
## <a name="cache-autodiscover-endpoint-and-ews-settings"></a><span data-ttu-id="0f147-108">Extremo de detección automática y la configuración de EWS la memoria caché</span><span class="sxs-lookup"><span data-stu-id="0f147-108">Cache Autodiscover endpoint and EWS settings</span></span>
<span data-ttu-id="0f147-109"><a name="bk_CacheSettings"> </a></span><span class="sxs-lookup"><span data-stu-id="0f147-109"></span></span>

<span data-ttu-id="0f147-110">Mientras se recomendable que utilice detección automática con regularidad, cómo regularmente utiliza requiere atención especial.</span><span class="sxs-lookup"><span data-stu-id="0f147-110">While we recommend that you use Autodiscover regularly, how regularly you use it requires some consideration.</span></span> <span data-ttu-id="0f147-111">Lo ideal es que se puede equilibrar responder rápidamente a los cambios en el entorno frente a generar demasiado tráfico de red innecesarios.</span><span class="sxs-lookup"><span data-stu-id="0f147-111">Ideally you can balance responding quickly to changes in the environment against generating too much unnecessary network traffic.</span></span> <span data-ttu-id="0f147-112">Cuando la aplicación obtiene una respuesta correcta de detección automática por primera vez, debe guardar la siguiente información para que no es necesario repetir el proceso de detección automática cada vez que envía una solicitud de EWS.</span><span class="sxs-lookup"><span data-stu-id="0f147-112">When your application gets a successful Autodiscover response for the first time, you should save the following information so that you do not have to repeat the Autodiscover process every time you send an EWS request.</span></span>
  
<span data-ttu-id="0f147-113">**La tabla 1. Información en memoria caché para las solicitudes de detección automática**</span><span class="sxs-lookup"><span data-stu-id="0f147-113">**Table 1. Information to cache for Autodiscover requests**</span></span>

|<span data-ttu-id="0f147-114">**Si se establece en memoria caché**</span><span class="sxs-lookup"><span data-stu-id="0f147-114">**Setting to cache**</span></span>|<span data-ttu-id="0f147-115">**Válido para...**</span><span class="sxs-lookup"><span data-stu-id="0f147-115">**Valid for…**</span></span>|<span data-ttu-id="0f147-116">**Detalles**</span><span class="sxs-lookup"><span data-stu-id="0f147-116">**Details**</span></span>|
|:-----|:-----|:-----|
|<span data-ttu-id="0f147-117">Extremo de detección automática</span><span class="sxs-lookup"><span data-stu-id="0f147-117">Autodiscover endpoint</span></span>  <br/> |<span data-ttu-id="0f147-118">Como funciona</span><span class="sxs-lookup"><span data-stu-id="0f147-118">As long as it works</span></span>  <br/> |<span data-ttu-id="0f147-119">Cuando guarda el extremo de detección automática que devuelven una respuesta correcta, no es necesario repetir el proceso de [generación de una lista de extremos de detección automática](how-to-generate-a-list-of-autodiscover-endpoints.md) y tratando de hasta que obtenga una respuesta correcta.</span><span class="sxs-lookup"><span data-stu-id="0f147-119">When you save the Autodiscover endpoint that returned a successful response, you do not have to repeat the process of [generating a list of Autodiscover endpoints](how-to-generate-a-list-of-autodiscover-endpoints.md) and trying them until you get a successful response.</span></span><br/><br/> <span data-ttu-id="0f147-120">**Nota**: la API administrada de EWS no admite el almacenamiento en memoria caché el extremo de detección automática.</span><span class="sxs-lookup"><span data-stu-id="0f147-120">**NOTE**: The EWS Managed API does not support caching the Autodiscover endpoint.</span></span>           |
|<span data-ttu-id="0f147-121">Dirección URL de EWS y cualquier otra configuración recuperados de la respuesta de detección automática</span><span class="sxs-lookup"><span data-stu-id="0f147-121">EWS URL and any other settings retrieved from the Autodiscover response</span></span>  <br/> |<span data-ttu-id="0f147-122">24 horas</span><span class="sxs-lookup"><span data-stu-id="0f147-122">24 hours</span></span>  <br/> |<span data-ttu-id="0f147-123">Guardando la dirección URL de EWS y otras relacionadas con la configuración, no es necesario para [Enviar una nueva solicitud de detección automática](how-to-get-user-settings-from-exchange-by-using-autodiscover.md) para cada solicitud EWS o si se reinicia la aplicación.</span><span class="sxs-lookup"><span data-stu-id="0f147-123">By saving the EWS URL and other related settings, you do not have to [send a new Autodiscover request](how-to-get-user-settings-from-exchange-by-using-autodiscover.md) for each EWS request or if your application restarts.</span></span> <span data-ttu-id="0f147-124">Sin embargo, incluso si una dirección URL de EWS funciona para el usuario, un servidor podría estar disponible es decir más óptima.</span><span class="sxs-lookup"><span data-stu-id="0f147-124">However, even if an EWS URL works for your user, a server might be available that is more optimal.</span></span><br/><br/> <span data-ttu-id="0f147-125">Por ejemplo, es posible que movió el buzón del usuario a un nuevo servidor de buzón de correo, lo que resulta en un nuevo extremo EWS preferido.</span><span class="sxs-lookup"><span data-stu-id="0f147-125">For example, the user's mailbox might have moved to a new mailbox server, resulting in a new preferred EWS endpoint.</span></span> <span data-ttu-id="0f147-126">Se recomienda que actualice a su configuración de usuario mediante el envío de una nueva solicitud de detección automática después de 24 horas han pasado desde la última solicitud de detección automática.</span><span class="sxs-lookup"><span data-stu-id="0f147-126">We recommend that you refresh your user settings by sending a new Autodiscover request after 24 hours have passed since your last Autodiscover request.</span></span> <span data-ttu-id="0f147-127">Este tiempo se puede ajustar para satisfacer los requisitos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="0f147-127">This time can be adjusted to meet the requirements of your application.</span></span>  <br/> |
   
## <a name="refresh-cached-configuration-information"></a><span data-ttu-id="0f147-128">Actualizar la información de configuración almacenada en caché</span><span class="sxs-lookup"><span data-stu-id="0f147-128">Refresh cached configuration information</span></span>
<span data-ttu-id="0f147-129"><a name="bk_RefreshConfig"> </a></span><span class="sxs-lookup"><span data-stu-id="0f147-129"></span></span>

<span data-ttu-id="0f147-130">Ahora que tiene la información almacenada en caché, veamos cómo puede conservar esa memoria caché actualizados.</span><span class="sxs-lookup"><span data-stu-id="0f147-130">Now that you have the information cached, let's examine how you can keep that cache fresh.</span></span> <span data-ttu-id="0f147-131">Se recomienda que actualizar la información almacenada en caché cuando:</span><span class="sxs-lookup"><span data-stu-id="0f147-131">We recommend that you refresh your cached information when:</span></span>
  
- <span data-ttu-id="0f147-132">Expira el período de validez de la información.</span><span class="sxs-lookup"><span data-stu-id="0f147-132">The information's validity period expires.</span></span>
    
- <span data-ttu-id="0f147-133">Se produce un [errores relacionados con la conexión](#bk_ConnectionErrors) .</span><span class="sxs-lookup"><span data-stu-id="0f147-133">A [Connection-related errors](#bk_ConnectionErrors) occurs.</span></span> 
    
<span data-ttu-id="0f147-134">Para actualizar la información almacenada en caché, enviar una solicitud de detección automática a un extremo de detección automática en caché y haga lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="0f147-134">To refresh your cached information, send an Autodiscover request to a cached Autodiscover endpoint, and do the following:</span></span>
  
- <span data-ttu-id="0f147-135">Si la solicitud se realiza correctamente, compare el extremo EWS en la respuesta con el extremo EWS en caché y haga lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="0f147-135">If the request succeeds, compare the EWS endpoint in the response with the cached EWS endpoint, and do the following:</span></span>
    
  - <span data-ttu-id="0f147-136">Si son diferentes, use el nuevo extremo EWS.</span><span class="sxs-lookup"><span data-stu-id="0f147-136">If they are different, use the new EWS endpoint.</span></span> <span data-ttu-id="0f147-137">Si está actualizando para recuperarse de un error, vuelva a intentar la solicitud con errores con el extremo de nuevo.</span><span class="sxs-lookup"><span data-stu-id="0f147-137">If you're refreshing to recover from an error, retry the failed request with the new endpoint.</span></span>
    
  - <span data-ttu-id="0f147-138">Si son las mismas, seguir usando el extremo EWS original.</span><span class="sxs-lookup"><span data-stu-id="0f147-138">If they are the same, continue to use the original EWS endpoint.</span></span> <span data-ttu-id="0f147-139">Si está actualizando para recuperarse de un error, controlar el error según corresponda.</span><span class="sxs-lookup"><span data-stu-id="0f147-139">If you're refreshing to recover from an error, handle the error as appropriate.</span></span>
    
- <span data-ttu-id="0f147-140">Si se produce un error en la solicitud, iniciar el [proceso de detección automática](autodiscover-for-exchange.md) desde el principio.</span><span class="sxs-lookup"><span data-stu-id="0f147-140">If the request fails, start the [Autodiscover process](autodiscover-for-exchange.md) from the beginning.</span></span> <span data-ttu-id="0f147-141">Después de obtener una respuesta correcta, reemplace el extremo de detección automática en caché con el extremo de detección automática que se ha realizado correctamente y seguir usando el nuevo extremo EWS.</span><span class="sxs-lookup"><span data-stu-id="0f147-141">After you get a successful response, replace the cached Autodiscover endpoint with the Autodiscover endpoint that succeeded and continue to use the new EWS endpoint.</span></span> <span data-ttu-id="0f147-142">Si no recibe una respuesta correcta, seguir usando el extremo de detección automática original y el extremo EWS.</span><span class="sxs-lookup"><span data-stu-id="0f147-142">If you do not get a successful response, continue to use the original Autodiscover endpoint and EWS endpoint.</span></span> <span data-ttu-id="0f147-143">Si está actualizando para recuperarse de un error, controlar el error según corresponda.</span><span class="sxs-lookup"><span data-stu-id="0f147-143">If you're refreshing to recover from an error, handle the error as appropriate.</span></span> 
    
<span data-ttu-id="0f147-144">La ilustración siguiente proporciona una representación visual de este proceso.</span><span class="sxs-lookup"><span data-stu-id="0f147-144">The following figure provides a visual representation of this process.</span></span>
  
<span data-ttu-id="0f147-145">**En la figura 1. Proceso para actualizar la información de configuración mediante el uso de detección automática**</span><span class="sxs-lookup"><span data-stu-id="0f147-145">**Figure 1. Process for refreshing configuration information by using Autodiscover**</span></span>

![Diagrama esquemático que muestra cómo la detección automática actualiza la información de configuración.](media/Ex15_Autodiscover_Refresh_Flowchart.png)
  
### <a name="connection-related-errors"></a><span data-ttu-id="0f147-147">Errores relacionados con la conexión</span><span class="sxs-lookup"><span data-stu-id="0f147-147">Connection-related errors</span></span>
<span data-ttu-id="0f147-148"><a name="bk_ConnectionErrors"> </a></span><span class="sxs-lookup"><span data-stu-id="0f147-148"></span></span>

<span data-ttu-id="0f147-149">Actualizar la información de configuración almacenada en caché puede ayudar con algunos errores, pero no todas.</span><span class="sxs-lookup"><span data-stu-id="0f147-149">Refreshing your cached configuration information can help with some errors, but not all.</span></span> 
  
<span data-ttu-id="0f147-150">**Tabla 2. Errores dirigidos al actualizar la memoria caché**</span><span class="sxs-lookup"><span data-stu-id="0f147-150">**Table 2. Errors addressed by refreshing your cache**</span></span>

|<span data-ttu-id="0f147-151">**Error**</span><span class="sxs-lookup"><span data-stu-id="0f147-151">**Error**</span></span>|<span data-ttu-id="0f147-152">**Implementación de la API administrada de EWS**</span><span class="sxs-lookup"><span data-stu-id="0f147-152">**EWS Managed API implementation**</span></span>|<span data-ttu-id="0f147-153">**Notas**</span><span class="sxs-lookup"><span data-stu-id="0f147-153">**Notes**</span></span>|
|:-----|:-----|:-----|
|<span data-ttu-id="0f147-154">Errores de red o DNS</span><span class="sxs-lookup"><span data-stu-id="0f147-154">DNS or network failure errors</span></span><br/><br/> <span data-ttu-id="0f147-155">Ejemplo: No se pudo encontrar el nombre de Host.</span><span class="sxs-lookup"><span data-stu-id="0f147-155">Example: Host name could not be found.</span></span>  <br/> |[<span data-ttu-id="0f147-156">ServiceRemoteException</span><span class="sxs-lookup"><span data-stu-id="0f147-156">ServiceRemoteException</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.WebServices.Data.ServiceRemoteException.aspx) <br/> |<span data-ttu-id="0f147-157">Es posible que se puede resolver cualquier error que indica que el servidor no se pudo encontrar o no se pudo tener acceso al tratar de detección automática.</span><span class="sxs-lookup"><span data-stu-id="0f147-157">Any error that indicates that the server could not be found or could not be reached might be resolved by trying Autodiscover.</span></span> <br/><br/> <span data-ttu-id="0f147-158">El extremo EWS en caché es posible que ya no sea válido y es posible que pueda detección automática para apunte al nuevo servidor.</span><span class="sxs-lookup"><span data-stu-id="0f147-158">Your cached EWS endpoint might no longer be valid, and Autodiscover might be able to point you to the new server.</span></span>  <br/> |
|<span data-ttu-id="0f147-159">Errores de estado HTTP</span><span class="sxs-lookup"><span data-stu-id="0f147-159">HTTP status errors</span></span><br/><br/> <span data-ttu-id="0f147-160">Ejemplo: 503 Servicio no disponible</span><span class="sxs-lookup"><span data-stu-id="0f147-160">Example: 503 Service Unavailable</span></span>  <br/> |[<span data-ttu-id="0f147-161">ServiceRemoteException</span><span class="sxs-lookup"><span data-stu-id="0f147-161">ServiceRemoteException</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.WebServices.Data.ServiceRemoteException.aspx) <br/> |<span data-ttu-id="0f147-162">Errores de estado HTTP pueden ocurrir por muchas razones diferentes.</span><span class="sxs-lookup"><span data-stu-id="0f147-162">HTTP status errors can happen for many different reasons.</span></span><br/><br/> <span data-ttu-id="0f147-163">Sin embargo, es una buena idea para probar la detección automática para ver si un nuevo extremo EWS está disponible para el usuario.</span><span class="sxs-lookup"><span data-stu-id="0f147-163">However, it's a good idea to try Autodiscover to see if a new EWS endpoint is available for the user.</span></span>  <br/> |
|<span data-ttu-id="0f147-164">Códigos de error EWS</span><span class="sxs-lookup"><span data-stu-id="0f147-164">EWS error codes</span></span> <br/><br/> <span data-ttu-id="0f147-165">Ejemplo: ErrorConnectionFailed</span><span class="sxs-lookup"><span data-stu-id="0f147-165">Example: ErrorConnectionFailed</span></span> <br/> |[<span data-ttu-id="0f147-166">ResponseCodeType</span><span class="sxs-lookup"><span data-stu-id="0f147-166">ResponseCodeType</span></span>](../web-service-reference/responsecode.md) <br/> | <span data-ttu-id="0f147-167">La mayoría de los códigos de error EWS no requieran actualizar la información de configuración.</span><span class="sxs-lookup"><span data-stu-id="0f147-167">Most EWS error codes don't warrant refreshing your configuration information.</span></span><br/><br/> <span data-ttu-id="0f147-168">Sin embargo, el siguiente específicamente indica que debe actualizarse la información de configuración:</span><span class="sxs-lookup"><span data-stu-id="0f147-168">However, the following specifically indicate that the configuration information needs to be updated:</span></span><br/><span data-ttu-id="0f147-169">- **ErrorConnectionFailed**</span><span class="sxs-lookup"><span data-stu-id="0f147-169">- **ErrorConnectionFailed**</span></span> <br/><span data-ttu-id="0f147-170">- **ErrorMailboxMoveInProgress**</span><span class="sxs-lookup"><span data-stu-id="0f147-170">- **ErrorMailboxMoveInProgress**</span></span> <br/> |
   
## <a name="see-also"></a><span data-ttu-id="0f147-171">Vea también</span><span class="sxs-lookup"><span data-stu-id="0f147-171">See also</span></span>

- [<span data-ttu-id="0f147-172">Detección automática de Exchange</span><span class="sxs-lookup"><span data-stu-id="0f147-172">Autodiscover for Exchange</span></span>](autodiscover-for-exchange.md)  
- [<span data-ttu-id="0f147-173">Generar una lista de extremos de detección automática</span><span class="sxs-lookup"><span data-stu-id="0f147-173">Generate a list of Autodiscover endpoints</span></span>](how-to-generate-a-list-of-autodiscover-endpoints.md)   
- [<span data-ttu-id="0f147-174">Obtener la configuración de usuario de Exchange mediante el uso de detección automática</span><span class="sxs-lookup"><span data-stu-id="0f147-174">Get user settings from Exchange by using Autodiscover</span></span>](how-to-get-user-settings-from-exchange-by-using-autodiscover.md)
    

