---
title: Los registros de transacciones y archivos de punto de comprobación de copia de seguridad y restauración de Exchange
manager: sethgros
ms.date: 09/17/2015
ms.audience: Developer
ms.topic: overview
ms.prod: office-online-server
localization_priority: Normal
ms.assetid: 80e04b9f-87c7-4acf-89b1-aa66ffaf7e53
description: Obtenga información acerca de los registros de transacciones y archivos de punto de control y cómo se usan para realizar una copia de y restaurar datos de Exchange 2013.
ms.openlocfilehash: 53f128348bb2e8895bc1eefaf62402fa348c81ea
ms.sourcegitcommit: 34041125dc8c5f993b21cebfc4f8b72f0fd2cb6f
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/25/2018
ms.locfileid: "19763004"
---
# <a name="transaction-logs-and-checkpoint-files-for-backup-and-restore-in-exchange"></a><span data-ttu-id="4b3ca-103">Los registros de transacciones y archivos de punto de comprobación de copia de seguridad y restauración de Exchange</span><span class="sxs-lookup"><span data-stu-id="4b3ca-103">Transaction logs and checkpoint files for backup and restore in Exchange</span></span>

<span data-ttu-id="4b3ca-104">Obtenga información acerca de los registros de transacciones y archivos de punto de control y cómo se usan para realizar una copia de y restaurar datos de Exchange 2013.</span><span class="sxs-lookup"><span data-stu-id="4b3ca-104">Find information about transaction logs and checkpoint files and how they are used to back up and restore Exchange 2013 data.</span></span>
  
<span data-ttu-id="4b3ca-105">**Se aplica a:** Exchange Server 2013</span><span class="sxs-lookup"><span data-stu-id="4b3ca-105">**Applies to:** Exchange Server 2013</span></span> 
  
<span data-ttu-id="4b3ca-106">En este artículo se describe cómo Exchange Server 2013 usa los registros de transacciones y archivos de punto de comprobación para ayudar a evitar la pérdida de datos.</span><span class="sxs-lookup"><span data-stu-id="4b3ca-106">This article describes how Exchange Server 2013 uses transaction logs and checkpoint files to help prevent data loss.</span></span> <span data-ttu-id="4b3ca-107">Es importante tener en cuenta esta información cuando desarrolle copia de seguridad y restaurar las aplicaciones que usan el servicio de instantáneas de volumen (VSS) en las versiones de Windows Server 2008 a partir de Windows Server.</span><span class="sxs-lookup"><span data-stu-id="4b3ca-107">It is important to be aware of this information when you develop backup and restore applications that use the Volume Shadow Copy Service (VSS) in versions of Windows Server starting with Windows Server 2008.</span></span>
  
## <a name="transaction-logs-in-exchange-2013"></a><span data-ttu-id="4b3ca-108">Los registros de transacciones en Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="4b3ca-108">Transaction logs in Exchange 2013</span></span>

<span data-ttu-id="4b3ca-109">Exchange 2013 mantiene un único conjunto de archivos de registro de transacciones para cada base de datos.</span><span class="sxs-lookup"><span data-stu-id="4b3ca-109">Exchange 2013 maintains a single set of transaction log files for each database.</span></span> <span data-ttu-id="4b3ca-110">Una transacción se define como cualquier operación que cambia el estado o el contenido de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="4b3ca-110">A transaction is defined as any operation that changes the state or contents of the database.</span></span> <span data-ttu-id="4b3ca-111">Los archivos de registro de transacciones para un registro de base de datos individual, todas las transacciones se realizan en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="4b3ca-111">The transaction log files for an individual database record all the transactions performed on the database.</span></span> <span data-ttu-id="4b3ca-112">Registros de las transacciones se escriben en los registros de transacciones antes de que se realizan en la base de datos, para asegurarse de que todas las transacciones confirmadas se pueden recuperar en caso de error de base de datos.</span><span class="sxs-lookup"><span data-stu-id="4b3ca-112">Records of the transactions are written to the transaction logs before they are made in the database itself, to ensure that all committed transactions can be recovered in the event of a database failure.</span></span> <span data-ttu-id="4b3ca-113">Registros de transacciones de base de datos de Exchange 2013 se almacenan en el disco antes de que las transacciones se confirman en el archivo de base de datos.</span><span class="sxs-lookup"><span data-stu-id="4b3ca-113">Exchange 2013 database transaction logs are stored on disk before the transactions are committed to the database file.</span></span> 
  
<span data-ttu-id="4b3ca-114">La grabación de las transacciones antes de que se actualice la base de datos se denomina registro de escritura anticipada.</span><span class="sxs-lookup"><span data-stu-id="4b3ca-114">The recording of the transactions before the database is updated is called write-ahead logging.</span></span> <span data-ttu-id="4b3ca-115">Para ayudar a garantizar que la base de datos correctamente vuelve al estado correcto, Exchange 2013 escribe los datos en los archivos de base de datos mediante el uso de los puntos de control y escrituras basada en la página.</span><span class="sxs-lookup"><span data-stu-id="4b3ca-115">To help ensure that the database is correctly brought back to the proper state, Exchange 2013 writes data into the database files by using page-based writes and checkpoints.</span></span> <span data-ttu-id="4b3ca-116">Durante las operaciones habituales, el almacén de Exchange en primer lugar los cambios de la base de datos de registros en los registros de transacciones y, a continuación, realiza los cambios en una copia en memoria de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="4b3ca-116">During regular operations, the Exchange store first records database changes in the transaction logs, and then makes those changes on an in-memory copy of the database.</span></span> <span data-ttu-id="4b3ca-117">Los registros de transacciones registran del principio y del final de cada transacción.</span><span class="sxs-lookup"><span data-stu-id="4b3ca-117">The transaction logs record the beginning and end of each transaction.</span></span> <span data-ttu-id="4b3ca-118">Esto garantiza que suficiente información está disponible más adelante deshacer o revertir las operaciones en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="4b3ca-118">This ensures that sufficient information is available to later undo or roll back operations in the database.</span></span>
  
<span data-ttu-id="4b3ca-119">Durante la recuperación de errores en el que el archivo de base de datos en el disco está dañado, pero los registros de transacciones están intactos, la aplicación de restauración en primer lugar debe restaurar una copia del archivo de base de datos conocida.</span><span class="sxs-lookup"><span data-stu-id="4b3ca-119">When recovering from errors in which the database file on disk is damaged, but the transaction logs are intact, your restore application must first restore a known good copy of the database file.</span></span>
  
<span data-ttu-id="4b3ca-120">El almacén de Exchange reproduce las transacciones de la transacción con copia de seguridad de los registros y, a continuación, reproduce las transacciones restantes desde los archivos de registro de transacciones en disco.</span><span class="sxs-lookup"><span data-stu-id="4b3ca-120">The Exchange store replays the transactions from the previously backed up transaction logs, and then replays any remaining transactions from the on-disk transaction log files.</span></span> <span data-ttu-id="4b3ca-121">Tenga en cuenta que a veces, las transacciones se pueden perder si el sistema se produce un error entre cuando las transacciones se registran en los registros de transacciones y cuando en realidad se escriben en los archivos de base de datos.</span><span class="sxs-lookup"><span data-stu-id="4b3ca-121">Note that sometimes transactions can be lost if the system fails between when the transactions are recorded in the transaction logs, and when they are actually written to the database files.</span></span> 
  
<span data-ttu-id="4b3ca-122">Periódicamente, el almacén de Exchange comprueba la imagen de la base de datos en memoria y, a continuación, determina las páginas que han cambiado.</span><span class="sxs-lookup"><span data-stu-id="4b3ca-122">Periodically, the Exchange store checks the in-memory database image, and then determines which pages have changed.</span></span> <span data-ttu-id="4b3ca-123">El almacén de Exchange combina los cambios pendientes y, a continuación, escribe las páginas en el archivo de base de datos en el disco.</span><span class="sxs-lookup"><span data-stu-id="4b3ca-123">The Exchange store combines the pending changes, and then writes those pages to the database file on disk.</span></span>
  
## <a name="checkpoint-files-in-exchange-2013"></a><span data-ttu-id="4b3ca-124">Archivos de punto de comprobación en Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="4b3ca-124">Checkpoint files in Exchange 2013</span></span>

<span data-ttu-id="4b3ca-125">Se han escrito una registros del archivo de punto de comprobación que registran las transacciones a los archivos de base de datos en disco.</span><span class="sxs-lookup"><span data-stu-id="4b3ca-125">A checkpoint file records which logged transactions have been written to the on-disk database files.</span></span> <span data-ttu-id="4b3ca-126">El punto de comprobación es avanzado cuando todas las páginas de la base de datos que se han modificado las entradas de los registros de transacciones se escriben correctamente en el disco.</span><span class="sxs-lookup"><span data-stu-id="4b3ca-126">The checkpoint is advanced when all the database pages that have been modified by entries in the transaction logs are successfully written to disk.</span></span> <span data-ttu-id="4b3ca-127">Debido a que el archivo de punto de comprobación registra las transacciones que ya están en la imagen de la base de datos en disco, el almacén de Exchange sólo se necesita reproducir las transacciones que se realizaron después del punto de control.</span><span class="sxs-lookup"><span data-stu-id="4b3ca-127">Because the checkpoint file records which transactions are already in the on-disk database image, the Exchange store only needs to replay transactions that occurred after the checkpoint.</span></span> <span data-ttu-id="4b3ca-128">Según el período de tiempo entre las copias de seguridad, esto puede disminuir considerablemente el número de transacciones que se deben reproducir en la base de datos si se produce un error del sistema.</span><span class="sxs-lookup"><span data-stu-id="4b3ca-128">Depending on the time period between backups, this can greatly decrease the number of transactions that must be replayed into the database if a system failure occurs.</span></span>
  
## <a name="see-also"></a><span data-ttu-id="4b3ca-129">Vea también</span><span class="sxs-lookup"><span data-stu-id="4b3ca-129">See also</span></span>

- [<span data-ttu-id="4b3ca-130">Conceptos de copia de seguridad y restauración para Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="4b3ca-130">Backup and restore concepts for Exchange 2013</span></span>](backup-and-restore-concepts-for-exchange-2013.md)
- [<span data-ttu-id="4b3ca-131">Tipos de operaciones de copia de seguridad para Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="4b3ca-131">Types of backup operations for Exchange 2013</span></span>](types-of-backup-operations-for-exchange-2013.md)
- [<span data-ttu-id="4b3ca-132">Restauración de bases de datos de Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="4b3ca-132">Restoring Exchange 2013 databases</span></span>](restoring-exchange-2013-databases.md)
    

